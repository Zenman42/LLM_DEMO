/* ========================================================
   LLM Tracker — SaaS Dashboard Theme (Dark + Light)
   ======================================================== */

/* ---- Role-based visibility (hidden until JS determines role) ---- */
.admin-only { display: none; }

/* ---- CSS Variables ---- */
:root {
    --bg-primary: #080e1b;
    --bg-secondary: #0e1628;
    --bg-tertiary: #192033;
    --bg-hover: #1d2540;
    --border: #1e2640;
    --border-light: #283350;

    --text-primary: #eff3f8;
    --text-secondary: #8f9bb0;
    --text-muted: #586578;

    --accent: #3b82f6;
    --accent-hover: #2563eb;
    --accent-glow: rgba(59, 130, 246, 0.20);
    --success: #10b981;
    --success-bg: rgba(16, 185, 129, 0.12);
    --warning: #f59e0b;
    --warning-bg: rgba(245, 158, 11, 0.12);
    --danger: #ef4444;
    --danger-bg: rgba(239, 68, 68, 0.12);

    /* Semantic status colors (dark palette — neon for dark bg) */
    --tc-green: #34d399;
    --tc-yellow: #fbbf24;
    --tc-orange: #fb923c;
    --tc-red: #f87171;
    --tc-muted: #64748b;

    --sidebar-width: 240px;
    --sidebar-collapsed: 64px;
    --header-height: 64px;

    --radius: 8px;
    --radius-lg: 12px;
    --shadow: 0 1px 3px rgba(0,0,0,0.3), 0 1px 2px rgba(0,0,0,0.2);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
    --shadow-lg: 0 8px 32px rgba(0,0,0,0.5);

    --card-bg: var(--bg-secondary);

    --transition: 0.2s ease;
    --transition-slow: 0.3s ease;
}

/* ---- Reset & Base ---- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a { color: var(--accent); text-decoration: none; transition: color var(--transition); }
a:hover { color: #60a5fa; }

code, .mono {
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 0.88em;
}

h1 { font-size: 24px; font-weight: 700; letter-spacing: -0.02em; }
h2 { font-size: 18px; font-weight: 600; }
h3 { font-size: 15px; font-weight: 600; }

::selection { background: var(--accent); color: #fff; }

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--border-light); }

/* ================================================================
   LAYOUT — CSS Grid: sidebar + header + main
   ================================================================ */
.app-layout {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    grid-template-rows: var(--header-height) 1fr;
    grid-template-areas:
        "sidebar header"
        "sidebar main";
    min-height: 100vh;
}

/* ---- Sidebar ---- */
.sidebar {
    grid-area: sidebar;
    background: var(--bg-secondary);
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: 0;
    width: var(--sidebar-width);
    height: 100vh;
    z-index: 200;
    transition: width var(--transition-slow), transform var(--transition-slow);
    overflow: hidden;
}

.sidebar-brand {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 0 20px;
    height: var(--header-height);
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
}

.sidebar-brand svg { flex-shrink: 0; color: var(--accent); }

.sidebar-brand span {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
}

.sidebar-nav {
    flex: 1;
    padding: 12px 0;
    overflow-y: auto;
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 20px;
    color: var(--text-secondary);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition);
    white-space: nowrap;
    border-right: 3px solid transparent;
    text-decoration: none;
}

.nav-item:hover {
    color: var(--text-primary);
    background: var(--bg-tertiary);
}

.nav-item.active {
    color: var(--accent);
    background: rgba(59, 130, 246, 0.08);
    border-right-color: var(--accent);
}

.nav-item svg { flex-shrink: 0; width: 20px; height: 20px; }

.nav-item span { overflow: hidden; text-overflow: ellipsis; }

.sidebar-footer {
    padding: 12px 0;
    border-top: 1px solid var(--border);
    flex-shrink: 0;
}

.nav-divider {
    height: 1px;
    background: var(--border);
    margin: 8px 20px;
}

/* ---- Header ---- */
.app-header {
    grid-area: header;
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 32px;
    height: var(--header-height);
    position: sticky;
    top: 0;
    z-index: 150;
}

.header-left {
    display: flex;
    align-items: center;
    gap: 16px;
}

.header-left h1 { margin: 0; font-size: 20px; }

.header-right {
    display: flex;
    align-items: center;
    gap: 12px;
}

.hamburger {
    display: none;
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 4px;
    border-radius: 6px;
    transition: background var(--transition);
}

.hamburger:hover { background: var(--bg-tertiary); }

/* ---- Main content ---- */
.app-main {
    grid-area: main;
    overflow-y: auto;
}

.main-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 28px 32px;
}

/* ---- Sidebar overlay (mobile) ---- */
.sidebar-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    z-index: 199;
    backdrop-filter: blur(2px);
}

/* ================================================================
   BUTTONS
   ================================================================ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 16px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 13px;
    font-weight: 500;
    font-family: inherit;
    cursor: pointer;
    background: var(--bg-tertiary);
    color: var(--text-primary);
    transition: all var(--transition);
    white-space: nowrap;
    line-height: 1.4;
}

.btn:hover {
    background: var(--bg-hover);
    border-color: var(--border-light);
}

.btn-primary {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
}
.btn-primary:hover {
    background: var(--accent-hover);
    border-color: var(--accent-hover);
}

.btn-danger {
    background: var(--danger-bg);
    border-color: rgba(239, 68, 68, 0.3);
    color: var(--danger);
}
.btn-danger:hover {
    background: rgba(239, 68, 68, 0.2);
    border-color: var(--danger);
}

.btn-sm { padding: 5px 10px; font-size: 12px; }

.btn-icon {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 14px;
    padding: 4px 6px;
    border-radius: 4px;
    transition: all var(--transition);
    line-height: 1;
}
.btn-icon:hover { background: var(--danger-bg); color: var(--danger); }

/* ================================================================
   CARDS
   ================================================================ */
.card {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 20px;
    transition: border-color var(--transition), box-shadow var(--transition);
}

.card:hover {
    border-color: var(--border-light);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.card-header h2 { font-size: 16px; }

/* ---- Dashboard project grid ---- */
h1 { margin-bottom: 24px; }

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 20px;
}

.project-card {
    display: block;
    position: relative;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 24px 44px 24px 24px;
    transition: all var(--transition);
    color: var(--text-primary);
    text-decoration: none;
}

.project-card::after {
    content: '→';
    position: absolute;
    top: 24px;
    right: 20px;
    color: var(--text-muted);
    font-size: 18px;
    transition: color var(--transition), transform var(--transition);
}

.project-card:hover {
    border-color: var(--accent);
    box-shadow: 0 0 0 1px var(--accent), 0 4px 16px rgba(59, 130, 246, 0.1);
    transform: translateY(-2px);
    color: var(--text-primary);
}

.project-card:hover::after {
    color: var(--accent);
    transform: translateX(3px);
}

.project-card .card-header { margin-bottom: 8px; }
.project-card h3 { font-size: 16px; }
.card-domain { color: var(--text-secondary); font-size: 13px; margin-bottom: 12px; }

.card-stats {
    display: flex;
    gap: 20px;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--border);
    flex-wrap: wrap;
}

.stat { text-align: center; min-width: 0; }
.stat-value {
    display: block;
    font-size: 20px;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    line-height: 1.2;
}
.stat-label {
    display: block;
    font-size: 10px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    margin-top: 4px;
}

.card-footer {
    margin-top: 12px;
    font-size: 12px;
    color: var(--text-muted);
}

/* ================================================================
   BADGES
   ================================================================ */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 500;
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    border: 1px solid var(--border);
}

.badge-active {
    background: var(--success-bg);
    color: var(--success);
    border-color: rgba(16, 185, 129, 0.3);
}

.badge-inactive {
    background: var(--danger-bg);
    color: var(--danger);
    border-color: rgba(239, 68, 68, 0.3);
}

.badge-llm {
    background: rgba(139, 92, 246, 0.12);
    color: #a78bfa;
    border-color: rgba(139, 92, 246, 0.3);
}

.card-badges {
    display: flex;
    gap: 6px;
    align-items: center;
}

/* Position badges */
.pos-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 13px;
    font-family: 'JetBrains Mono', monospace;
    color: #fff;
}

.pos-badge.top3 { background: #059669; }
.pos-badge.good { background: var(--success); }
.pos-badge.medium { background: #d97706; }
.pos-badge.poor { background: var(--danger); }

/* Change indicators */
.change-up { color: var(--success); font-weight: 600; font-family: 'JetBrains Mono', monospace; }
.change-down { color: var(--danger); font-weight: 600; font-family: 'JetBrains Mono', monospace; }
.change-none { color: var(--text-muted); }
.muted { color: var(--text-muted); }

.match-ok { color: var(--success); font-weight: 600; }
.match-no { color: var(--danger); font-weight: 600; }

/* ================================================================
   TABLES
   ================================================================ */
.table-wrapper {
    overflow-x: auto;
    margin-bottom: 24px;
    border-radius: var(--radius);
}

.keywords-table {
    width: 100%;
    border-collapse: collapse;
}

.keywords-table th {
    background: var(--bg-tertiary);
    padding: 10px 14px;
    text-align: left;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    white-space: nowrap;
    border-bottom: 1px solid var(--border);
}

.keywords-table td {
    padding: 10px 14px;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
    white-space: nowrap;
}

.keywords-table tbody tr {
    transition: background var(--transition);
}
.keywords-table tbody tr:hover { background: var(--bg-tertiary); }

.keywords-table code { font-size: 13px; color: var(--text-primary); }

.url-cell {
    max-width: 250px;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--text-secondary);
    font-size: 12px;
}

/* Sortable table headers */
.sortable-th {
    cursor: pointer;
    user-select: none;
    position: relative;
    padding-right: 22px !important;
}
.sortable-th:hover { background: var(--bg-hover); }
.sortable-th::after {
    content: '\2195';
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
    color: var(--text-muted);
}
.sortable-th.sort-asc::after { content: '\2191'; color: var(--accent); font-weight: 700; }
.sortable-th.sort-desc::after { content: '\2193'; color: var(--accent); font-weight: 700; }

/* ================================================================
   ENGINE SECTIONS
   ================================================================ */
.engine-section { margin-bottom: 24px; }

.engine-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    padding-left: 12px;
    border-left: 3px solid var(--border);
}

.google-title { border-left-color: #4285f4; color: #4285f4; }
.yandex-title { border-left-color: #fc3f1d; color: #fc3f1d; }
.wm-title { border-left-color: var(--accent); color: var(--text-primary); }
.gsc-sem-title { border-left-color: #34a853; color: #34a853; }

/* GSC Semantics */
.gsc-sem-page { margin-bottom: 20px; }
.gsc-sem-page-url {
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 8px;
    padding: 8px 12px;
    background: rgba(52, 168, 83, 0.08);
    border-radius: var(--radius);
    border-left: 3px solid #34a853;
}
.gsc-sem-page-url a { color: var(--text-primary); }
.gsc-sem-page-url a:hover { color: var(--accent); }
.gsc-sem-table { margin-bottom: 0; }

/* ================================================================
   TABS
   ================================================================ */
.tabs-header {
    display: flex;
    gap: 0;
    border-bottom: 2px solid var(--border);
    margin-bottom: 24px;
}

.tab-btn {
    padding: 10px 20px;
    border: none;
    background: none;
    font-size: 14px;
    font-weight: 600;
    font-family: inherit;
    color: var(--text-secondary);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: all var(--transition);
}

.tab-btn:hover { color: var(--text-primary); }
.tab-btn.active { color: var(--accent); border-bottom-color: var(--accent); }

.tab-content { display: none; }
.tab-content.active { display: block; }

/* ================================================================
   CHARTS
   ================================================================ */
.chart-section {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 24px;
}

.chart-section h2 { margin-bottom: 16px; font-size: 16px; }

.chart-controls {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.chart-mode-toggle {
    display: flex;
    gap: 12px;
    align-items: center;
    font-size: 13px;
    color: var(--text-secondary);
}
.chart-mode-toggle label {
    display: flex;
    align-items: center;
    gap: 4px;
    cursor: pointer;
}
.chart-select { min-width: 200px; max-width: 400px; }

.chart-controls select {
    padding: 6px 10px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 13px;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
}
.chart-controls select:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.chart-container {
    position: relative;
    height: 320px;
    width: 100%;
}

/* URL Keywords Checkboxes */
.url-keywords-list {
    display: flex;
    flex-wrap: wrap;
    gap: 4px 16px;
    padding: 12px 0;
    max-height: 200px;
    overflow-y: auto;
    border-top: 1px solid var(--border);
    margin-top: 8px;
}

.url-kw-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    cursor: pointer;
    padding: 4px 0;
    color: var(--text-secondary);
}

.url-kw-item input[type="checkbox"] { accent-color: var(--accent); }
.url-kw-item code { font-size: 12px; color: var(--text-primary); }
.url-kw-imp { color: var(--text-muted); font-size: 11px; margin-left: 2px; }

/* ================================================================
   PROJECT HEADER
   ================================================================ */
.project-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.project-header h1 { margin-bottom: 4px; }
.domain-label { color: var(--text-secondary); font-size: 13px; margin-right: 8px; }

/* ================================================================
   FORMS
   ================================================================ */
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-group label {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-secondary);
}

.form-group input,
.form-group select,
.form-group textarea {
    padding: 8px 12px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 13px;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: border-color var(--transition), box-shadow var(--transition);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.form-group input::placeholder,
.form-group textarea::placeholder {
    color: var(--text-muted);
}

.form-actions {
    grid-column: 1 / -1;
    padding-top: 4px;
}

/* Keywords section in settings */
.keywords-section {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--border);
}
.keywords-section h3 { font-size: 14px; margin-bottom: 12px; }

.keyword-list { margin-bottom: 12px; }

.keyword-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 6px 0;
    border-bottom: 1px solid var(--border);
}

.keyword-item code { font-size: 13px; color: var(--text-primary); }

.add-keywords-form {
    display: flex;
    gap: 12px;
    align-items: flex-end;
}
.add-keywords-form textarea {
    flex: 1;
    min-height: 80px;
    resize: vertical;
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    color: var(--text-primary);
    padding: 8px 12px;
    font-size: 13px;
    font-family: inherit;
}
.add-keywords-form textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.edit-form { padding: 16px 0; }

.empty-state {
    text-align: center;
    padding: 48px 24px;
    color: var(--text-muted);
}
.empty-state a { color: var(--accent); }

/* ================================================================
   SERP & GSC MODALS
   ================================================================ */
.serp-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 300;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.2s ease;
}

.serp-modal {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 720px;
    max-width: 95vw;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    animation: modalSlideIn 0.25s ease;
}

.serp-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    border-bottom: 1px solid var(--border);
}

.serp-modal-header h3 { font-size: 16px; margin: 0; }

.serp-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: none;
    border: 1px solid transparent;
    border-radius: var(--radius);
    cursor: pointer;
    color: var(--text-secondary);
    transition: all var(--transition);
}

.serp-modal-close:hover {
    background: var(--danger-bg);
    border-color: rgba(239, 68, 68, 0.3);
    color: var(--danger);
}

.serp-modal-close svg { width: 18px; height: 18px; }

.serp-modal-meta {
    padding: 8px 24px;
    font-size: 13px;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border);
    background: var(--bg-tertiary);
}

.serp-modal-body {
    padding: 0;
    overflow-y: auto;
    flex: 1;
}

.serp-table { width: 100%; border-collapse: collapse; }

.serp-table thead { position: sticky; top: 0; z-index: 1; }

.serp-table th {
    background: var(--bg-tertiary);
    padding: 8px 14px;
    text-align: left;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    border-bottom: 1px solid var(--border);
}

.serp-table td {
    padding: 6px 14px;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
}

.serp-table td a { color: var(--accent); word-break: break-all; }
.serp-table td a:hover { text-decoration: underline; }

.serp-pos {
    width: 40px;
    text-align: center;
    font-weight: 600;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-muted);
}

.serp-highlight { background: rgba(16, 185, 129, 0.1) !important; }
.serp-highlight td { font-weight: 600; }
.serp-highlight .serp-pos { color: var(--success); }

.serp-table tbody tr { transition: background var(--transition); }
.serp-table tbody tr:hover { background: var(--bg-tertiary); }
.serp-highlight:hover { background: rgba(16, 185, 129, 0.15) !important; }

/* SERP & GSC buttons */
.btn-serp {
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    font-size: 11px;
    padding: 3px 8px;
    border: 1px solid var(--border);
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
}
.btn-serp:hover { background: var(--accent); color: #fff; border-color: var(--accent); }

.btn-gsc {
    background: rgba(66, 133, 244, 0.1);
    color: #60a5fa;
    font-size: 11px;
    padding: 3px 8px;
    border: 1px solid rgba(66, 133, 244, 0.3);
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
}
.btn-gsc:hover { background: #4285f4; color: #fff; border-color: #4285f4; }

.gsc-date {
    white-space: nowrap;
    font-variant-numeric: tabular-nums;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-secondary);
    font-size: 12px;
}

/* ================================================================
   URL FILTER BAR
   ================================================================ */
.url-filter-bar {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 16px 20px;
    margin-bottom: 20px;
}

.url-filter-form {
    display: flex;
    align-items: flex-end;
    gap: 12px;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.filter-group label {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.filter-group select,
.filter-group input[type="text"] {
    padding: 6px 10px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 13px;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
    min-width: 280px;
    transition: border-color var(--transition), box-shadow var(--transition);
}

.filter-group select:focus,
.filter-group input[type="text"]:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.filter-group input:disabled {
    background: var(--bg-tertiary);
    color: var(--text-muted);
    cursor: not-allowed;
}

.filter-divider { font-size: 12px; color: var(--text-muted); padding-bottom: 6px; }
.filter-error { margin-top: 8px; color: var(--danger); font-size: 13px; }
.filter-active-info { margin-top: 8px; font-size: 13px; color: var(--text-secondary); }

/* ================================================================
   CODE DISPLAY (users, api_keys)
   ================================================================ */
.code-display {
    font-family: 'JetBrains Mono', monospace;
    font-size: 14px;
    background: var(--bg-primary);
    border: 1px solid var(--border);
    padding: 8px 14px;
    border-radius: var(--radius);
    color: var(--text-primary);
    word-break: break-all;
}

.code-display-warning { border-left: 3px solid var(--warning); }

/* ================================================================
   UTILITY CLASSES
   ================================================================ */
.text-secondary { color: var(--text-secondary); }
.text-sm { font-size: 0.85rem; }
.text-danger { color: var(--danger); }

.form-value { margin: 0; color: var(--text-primary); }

.card-highlight { border-left: 3px solid var(--warning); }

.engine-section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* ================================================================
   TOAST NOTIFICATIONS
   ================================================================ */
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 500;
    display: flex;
    flex-direction: column;
    gap: 8px;
    pointer-events: none;
}

.toast {
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 12px 16px;
    min-width: 280px;
    max-width: 420px;
    box-shadow: var(--shadow-lg);
    pointer-events: auto;
    animation: toastIn 0.3s ease;
    border-left: 3px solid var(--accent);
}

.toast-success { border-left-color: var(--success); }
.toast-error { border-left-color: var(--danger); }
.toast-warning { border-left-color: var(--warning); }

.toast-icon { flex-shrink: 0; width: 18px; height: 18px; }
.toast-icon.toast-icon-success { color: var(--success); }
.toast-icon.toast-icon-error { color: var(--danger); }
.toast-icon.toast-icon-info { color: var(--accent); }

.toast-message {
    flex: 1;
    font-size: 13px;
    color: var(--text-primary);
    line-height: 1.4;
}

.toast-close {
    flex-shrink: 0;
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 16px;
    padding: 0;
    line-height: 1;
    transition: color var(--transition);
}
.toast-close:hover { color: var(--text-primary); }

.toast-exit { animation: toastOut 0.3s ease forwards; }

/* Old flash (backward compatible) */
.flash-messages { margin-bottom: 16px; }
.flash {
    background: rgba(59, 130, 246, 0.1);
    border-left: 3px solid var(--accent);
    padding: 10px 14px;
    border-radius: 0 var(--radius) var(--radius) 0;
    margin-bottom: 8px;
    font-size: 13px;
    color: var(--text-primary);
}
.flash-error {
    background: var(--danger-bg);
    border-left-color: var(--danger);
    color: var(--danger);
}

/* ================================================================
   LOGIN PAGE
   ================================================================ */
.login-page {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: var(--bg-primary);
}

.login-box {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 40px;
    width: 380px;
    box-shadow: var(--shadow-lg);
}

.login-box h1 {
    margin: 0 0 8px;
    font-size: 22px;
    color: var(--text-primary);
    text-align: center;
}

.login-box .subtitle,
.login-box .login-subtitle {
    text-align: center;
    color: var(--text-muted);
    font-size: 14px;
    margin-bottom: 28px;
}

.login-box label {
    display: block;
    color: var(--text-secondary);
    font-size: 13px;
    font-weight: 500;
    margin-bottom: 6px;
}

.login-box input[type="email"],
.login-box input[type="password"],
.login-box input[type="text"] {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 14px;
    font-family: inherit;
    margin-bottom: 16px;
    box-sizing: border-box;
    transition: border-color var(--transition), box-shadow var(--transition);
}

.login-box input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.login-box input::placeholder { color: var(--text-muted); }

.login-box .btn-login {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: var(--radius);
    background: var(--accent);
    color: #fff;
    font-size: 15px;
    font-weight: 600;
    font-family: inherit;
    cursor: pointer;
    transition: background var(--transition);
}

.login-box .btn-login:hover { background: var(--accent-hover); }

.login-error {
    background: var(--danger-bg);
    color: var(--danger);
    padding: 10px 14px;
    border-radius: var(--radius);
    font-size: 13px;
    margin-bottom: 16px;
    text-align: center;
    display: none;
    border: 1px solid rgba(239, 68, 68, 0.2);
}

.login-brand {
    text-align: center;
    margin-bottom: 16px;
}

.toggle-link,
.login-toggle {
    display: block;
    text-align: center;
    margin-top: 16px;
    color: var(--accent);
    font-size: 13px;
    cursor: pointer;
    transition: color var(--transition);
}
.toggle-link:hover,
.login-toggle:hover { color: #60a5fa; }

.register-fields { display: none; }

/* ================================================================
   ANIMATIONS
   ================================================================ */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes modalSlideIn {
    from { opacity: 0; transform: scale(0.95) translateY(-10px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes toastIn {
    from { opacity: 0; transform: translateX(40px); }
    to { opacity: 1; transform: translateX(0); }
}

@keyframes toastOut {
    from { opacity: 1; transform: translateX(0); }
    to { opacity: 0; transform: translateX(40px); }
}

/* ================================================================
   RESPONSIVE
   ================================================================ */
@media (min-width: 1440px) {
    .main-content { max-width: 1600px; }
}

@media (max-width: 1024px) {
    .app-layout { grid-template-columns: var(--sidebar-collapsed) 1fr; }
    .sidebar { width: var(--sidebar-collapsed); }
    .sidebar-brand span, .nav-item span { opacity: 0; width: 0; }
    .nav-item { justify-content: center; padding: 12px; }
    .sidebar-brand { justify-content: center; padding: 0; }
    .main-content { padding: 24px 20px; }
    .app-header { padding: 0 20px; }
}

@media (max-width: 768px) {
    .app-layout {
        grid-template-columns: 1fr;
        grid-template-rows: var(--header-height) 1fr;
        grid-template-areas: "header" "main";
    }
    .sidebar { transform: translateX(-100%); width: var(--sidebar-width); box-shadow: var(--shadow-lg); }
    .mobile-open .sidebar { transform: translateX(0); }
    .mobile-open .sidebar-overlay { display: block; }
    .sidebar-brand span, .nav-item span { opacity: 1; width: auto; }
    .nav-item { justify-content: flex-start; padding: 10px 20px; }
    .sidebar-brand { justify-content: flex-start; padding: 0 20px; }
    .hamburger { display: flex; }
    .main-content { padding: 20px 16px; }
    .app-header { padding: 0 16px; }
    .project-grid { grid-template-columns: 1fr; }
    .form-grid { grid-template-columns: 1fr; }
    .project-header { flex-direction: column; gap: 12px; align-items: flex-start; }
    .card-stats { flex-wrap: wrap; }
    .chart-controls { flex-direction: column; }
    .add-keywords-form { flex-direction: column; }
    .serp-modal { width: 95vw; }
    .url-filter-form { flex-direction: column; align-items: stretch; }
    .filter-group select, .filter-group input[type="text"] { min-width: auto; width: 100%; }
    .filter-divider { text-align: center; }
    .toast-container { top: 12px; right: 12px; left: 12px; }
    .toast { min-width: auto; max-width: none; }
    .llm-stats-grid { grid-template-columns: 1fr 1fr; }
    .main-tabs-bar { flex-wrap: wrap; }
}

/* ---- Main Section Tabs (SERP / LLM) ---- */
.main-tabs-bar {
    display: flex;
    gap: 0;
    margin-bottom: 1.5rem;
    border-bottom: 2px solid var(--border);
}

.main-tab-btn {
    padding: 10px 24px;
    border: none;
    background: none;
    color: var(--text-secondary);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: var(--transition);
}

.main-tab-btn:hover { color: var(--text-primary); }

.main-tab-btn.active {
    color: var(--accent);
    border-bottom-color: var(--accent);
}

/* ---- LLM Stats Grid ---- */
.llm-stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
}

.stat-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    text-align: center;
}

.stat-card-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--accent);
    line-height: 1.2;
}

.stat-card-label {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-top: 4px;
}

/* ---- Provider Bars ---- */
.provider-bars { display: flex; flex-direction: column; gap: 8px; }

.provider-bar-row {
    display: flex;
    align-items: center;
    gap: 10px;
}

.provider-name {
    width: 100px;
    font-size: 0.85rem;
    color: var(--text-secondary);
    text-align: right;
    flex-shrink: 0;
}

.bar-container {
    flex: 1;
    height: 20px;
    background: var(--bg-tertiary);
    border-radius: 4px;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.4s ease;
    min-width: 2px;
}

.bar-value {
    width: 55px;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary);
    flex-shrink: 0;
}

.bar-label {
    font-size: 0.8rem;
    flex-shrink: 0;
}

/* ================================================================
   LLM Dashboard — 6-screen BI panel
   ================================================================ */

/* Context bar (sticky top) */
.llm-dash__context-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 0.75rem 1.25rem;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 10px;
    margin-bottom: 1rem;
    position: sticky;
    top: 0;
    z-index: 10;
    backdrop-filter: blur(12px);
}

.llm-dash__context-bar .back-link {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.85rem;
    white-space: nowrap;
}
.llm-dash__context-bar .back-link:hover { color: var(--accent); }

.llm-dash__project-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 300px;
}

.llm-dash__controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
}

.llm-dash__controls select {
    padding: 5px 10px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 0.82rem;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
    cursor: pointer;
    transition: border-color var(--transition), box-shadow var(--transition);
}
.llm-dash__controls select:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

/* Sub-tabs */
.llm-dash__tabs {
    display: flex;
    gap: 2px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 4px;
    margin-bottom: 1.25rem;
    overflow-x: auto;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
}
.llm-dash__tabs::-webkit-scrollbar { display: none; }

.llm-dash__tab {
    padding: 0.5rem 1rem;
    border-radius: 7px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s;
    font-family: inherit;
}
.llm-dash__tab:hover { color: var(--text-primary); background: rgba(96,165,250,0.08); }
.llm-dash__tab.active {
    background: var(--accent);
    color: #fff;
}

.llm-dash__panel { display: none; }
.llm-dash__panel.active { display: block; }

/* KPI cards */
.kpi-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 1.25rem;
}

.kpi-card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.25rem;
    text-align: center;
}

.kpi-card__value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1.1;
    font-family: 'JetBrains Mono', monospace;
}

.kpi-card__label {
    font-size: 0.8rem;
    color: var(--text-secondary);
    margin-top: 0.35rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.kpi-card__sublabel {
    font-size: 0.75rem;
    color: var(--text-muted);
    margin-top: 0.25rem;
}

.kpi-card--accent .kpi-card__value { color: var(--accent); }
.kpi-card--green .kpi-card__value { color: #34d399; }
.kpi-card--orange .kpi-card__value { color: #fb923c; }
.kpi-card--purple .kpi-card__value { color: #a78bfa; }

/* ========================================================
   Summary Tab — 3-Level GEO Metrics Architecture
   ======================================================== */

/* Level container */
.summary-level {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    margin-bottom: 1rem;
}

.summary-level__header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border);
}

.summary-level__icon {
    font-size: 1.15rem;
}

.summary-level__title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.summary-level__audience {
    margin-left: auto;
    font-size: 0.72rem;
    color: var(--text-muted);
    background: var(--bg-tertiary);
    padding: 2px 10px;
    border-radius: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Level grids */
.summary-level__grid {
    display: grid;
    gap: 1rem;
}

.summary-level__grid--2col {
    grid-template-columns: repeat(2, 1fr);
}

.summary-level__grid--3col {
    grid-template-columns: repeat(3, 1fr);
}

/* Metric card */
.metric-card {
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1rem 1.1rem;
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
}

.metric-card__header {
    font-size: 0.78rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.3px;
    font-weight: 500;
}

.metric-card__value {
    font-size: 1.85rem;
    font-weight: 700;
    line-height: 1.1;
    font-family: 'JetBrains Mono', monospace;
}

.metric-card__max {
    font-size: 0.9rem;
    font-weight: 400;
    color: var(--text-muted);
}

.metric-card__viz {
    margin: 0.25rem 0;
}

.metric-card__sublabel {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.metric-card__interpretation {
    font-size: 0.78rem;
    font-weight: 500;
    padding: 3px 0;
}

/* N/A state */
.metric-na {
    color: var(--text-muted) !important;
    font-size: 1.5rem !important;
}

.metric-na-hint {
    font-size: 0.72rem !important;
    color: var(--text-muted);
    font-style: italic;
}

/* Interpretation zones */
.metric-zone--green { color: #34d399; }
.metric-zone--yellow { color: #fbbf24; }
.metric-zone--orange { color: #fb923c; }
.metric-zone--red { color: #f87171; }
.metric-zone--muted { color: var(--text-muted); }

/* Progress bar (for AIVS, Resilience) */
.progress-bar {
    height: 8px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.progress-bar__fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 4px;
    transition: width 0.6s ease;
}

.progress-bar--purple .progress-bar__fill {
    background: linear-gradient(90deg, #7c3aed, #a78bfa);
}

/* NSS gradient bar */
.nss-bar {
    margin: 0.25rem 0;
}

.nss-bar__track {
    height: 8px;
    background: linear-gradient(90deg, #f87171, #fbbf24, #a0aec0, #60a5fa, #34d399);
    border-radius: 4px;
    position: relative;
}

.nss-bar__marker {
    position: absolute;
    top: -3px;
    width: 14px;
    height: 14px;
    background: #fff;
    border: 2px solid var(--bg-tertiary);
    border-radius: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 4px rgba(0,0,0,0.4);
}

.nss-bar__labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.65rem;
    color: var(--text-muted);
    margin-top: 3px;
}

/* Citation compact list */
.citation-compact {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    margin: 0.25rem 0;
}

.citation-compact__row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.78rem;
}

.citation-compact__domain {
    color: var(--text-secondary);
    min-width: 110px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
}

.citation-compact__bar-wrap {
    flex: 1;
    height: 6px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 3px;
    overflow: hidden;
}

.citation-compact__bar {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #60a5fa);
    border-radius: 3px;
}

.citation-compact__pct {
    font-size: 0.72rem;
    color: var(--text-secondary);
    font-family: 'JetBrains Mono', monospace;
    min-width: 38px;
    text-align: right;
}

/* Intent penetration bars */
.intent-bars {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    margin: 0.25rem 0;
}

.intent-bars__row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.intent-bars__label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    min-width: 90px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.intent-bars__bar-wrap {
    flex: 1;
    height: 10px;
    background: rgba(255, 255, 255, 0.06);
    border-radius: 5px;
    overflow: hidden;
}

.intent-bars__bar {
    display: block;
    height: 100%;
    border-radius: 5px;
    transition: width 0.5s ease;
}

.intent-bars__value {
    font-size: 0.75rem;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
    font-weight: 600;
    min-width: 32px;
    text-align: right;
}

/* Responsive: Summary levels */
@media (max-width: 1100px) {
    .summary-level__grid--3col {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 600px) {
    .summary-level__grid--2col,
    .summary-level__grid--3col {
        grid-template-columns: 1fr;
    }

    .metric-card__value {
        font-size: 1.5rem;
    }

    .summary-level__header {
        flex-wrap: wrap;
    }

    .summary-level__audience {
        margin-left: 0;
    }

    .citation-compact__domain {
        min-width: 80px;
    }

    .intent-bars__label {
        min-width: 60px;
    }
}

/* Charts row */
.charts-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1.25rem;
}
@media (max-width: 1100px) {
    .kpi-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 900px) {
    .charts-row { grid-template-columns: 1fr; }
}
@media (max-width: 600px) {
    .kpi-grid { grid-template-columns: 1fr 1fr; }
    .llm-dash__tab { padding: 0.4rem 0.65rem; font-size: 0.78rem; }
    .kpi-card__value { font-size: 1.5rem; }
    .llm-dash__context-bar { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
}

/* Provider pill */
.provider-pill {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.72rem;
    font-weight: 600;
    background: rgba(96,165,250,0.15);
    color: #60a5fa;
    white-space: nowrap;
}
.provider-pill--chatgpt { background: rgba(96,165,250,0.15); color: #60a5fa; }
.provider-pill--gemini { background: rgba(52,211,153,0.15); color: #34d399; }
.provider-pill--deepseek { background: rgba(167,139,250,0.15); color: #a78bfa; }
.provider-pill--yandexgpt { background: rgba(251,146,60,0.15); color: #fb923c; }
.provider-pill--perplexity { background: rgba(248,113,113,0.15); color: #f87171; }

/* GEO Action cards */
.geo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 1rem;
}

.geo-card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.25rem;
    border-left: 4px solid var(--border);
}
.geo-card--critical { border-left-color: #f87171; }
.geo-card--warning { border-left-color: #fbbf24; }
.geo-card--info { border-left-color: #60a5fa; }

.geo-card__header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.geo-card__title {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.geo-card__description {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0.75rem;
    line-height: 1.5;
}

.geo-card__recommendation {
    font-size: 0.82rem;
    color: var(--accent);
    padding: 0.5rem 0.75rem;
    background: rgba(96,165,250,0.08);
    border-radius: 6px;
    line-height: 1.5;
}

/* Severity badges */
.severity-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}
.severity-badge--critical { background: rgba(248,113,113,0.2); color: #f87171; }
.severity-badge--warning { background: rgba(251,191,36,0.2); color: #fbbf24; }
.severity-badge--info { background: rgba(96,165,250,0.2); color: #60a5fa; }

/* Smart Highlighter */
.highlight-brand {
    background: rgba(52,211,153,0.25);
    color: #34d399;
    padding: 1px 3px;
    border-radius: 3px;
}
.highlight-competitor {
    background: rgba(251,191,36,0.2);
    color: #fbbf24;
    padding: 1px 3px;
    border-radius: 3px;
}
.highlight-negative {
    text-decoration: underline wavy #f87171;
    text-underline-offset: 3px;
}

/* Response split modal */
.response-split {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 1.25rem;
    max-height: 70vh;
    padding: 1.25rem;
}
@media (max-width: 768px) {
    .response-split { grid-template-columns: 1fr; }
}

.response-meta {
    font-size: 0.82rem;
    line-height: 1.8;
    overflow-y: auto;
    max-height: 65vh;
}
.response-meta dt {
    color: var(--text-secondary);
    font-weight: 400;
}
.response-meta dd {
    color: var(--text-primary);
    font-weight: 500;
    margin-bottom: 0.5rem;
    margin-left: 0;
}

.response-body {
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
    overflow-y: auto;
    max-height: 65vh;
    font-size: 0.85rem;
    line-height: 1.7;
    white-space: pre-wrap;
    word-break: break-word;
}

/* Mention type badges */
.mention-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.72rem;
    font-weight: 600;
}
.mention-badge--direct { background: rgba(96,165,250,0.2); color: #60a5fa; }
.mention-badge--recommended { background: rgba(52,211,153,0.2); color: #34d399; }
.mention-badge--compared { background: rgba(251,191,36,0.2); color: #fbbf24; }
.mention-badge--negative { background: rgba(248,113,113,0.2); color: #f87171; }
.mention-badge--none { background: rgba(160,174,192,0.15); color: #a0aec0; }

/* Heatmap legend */
.heatmap-legend {
    display: flex;
    gap: 1rem;
    align-items: center;
    justify-content: center;
    margin-top: 0.75rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
}
.heatmap-legend__item {
    display: flex;
    align-items: center;
    gap: 4px;
}
.heatmap-legend__color {
    width: 14px;
    height: 14px;
    border-radius: 3px;
}

/* Citation competitor-win icon */
.comp-win-icon {
    color: #f87171;
    font-size: 0.85rem;
    cursor: help;
}

/* GEO summary counter */
.geo-summary {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    font-size: 0.85rem;
}
.geo-summary__item {
    display: flex;
    align-items: center;
    gap: 4px;
    font-weight: 600;
}

/* Empty state for dashboard tabs */
.llm-dash__empty {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--text-secondary);
}
.llm-dash__empty svg {
    margin-bottom: 1rem;
    opacity: 0.4;
}

/* Filter bar */
.filter-bar {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}
.filter-bar select,
.filter-bar input {
    padding: 5px 10px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 0.82rem;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
    cursor: pointer;
    transition: border-color var(--transition), box-shadow var(--transition);
}
.filter-bar select:focus,
.filter-bar input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

/* Leaderboard row highlight */
.leaderboard-target {
    background: rgba(96,165,250,0.08);
}
.leaderboard-target td:first-child {
    border-left: 3px solid var(--accent);
}

/* ================================================================
   DEBUG CONSOLE
   ================================================================ */

/* Let debug page use full width */
.debug-page .main-content {
    max-width: 100%;
}

/* 2×2 metric grid on wide screens */
.debug-metrics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1rem;
}
@media (max-width: 1024px) {
    .debug-metrics-grid { grid-template-columns: 1fr; }
}

/* Metric formula display */
.debug-formula {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.82rem;
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 0.6rem 0.85rem;
    color: var(--accent);
    margin: 0.5rem 0;
    overflow-x: auto;
    white-space: nowrap;
}

/* Metric section cards */
.debug-metric-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    margin-bottom: 1rem;
}

/* When inside the grid, remove bottom margin (gap handles spacing) */
.debug-metrics-grid .debug-metric-card {
    margin-bottom: 0;
}

.debug-metric-card__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.debug-metric-card__title {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.debug-metric-card__value {
    font-size: 1.75rem;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-primary);
}

.debug-metric-card--aivs .debug-metric-card__value { color: var(--accent); }
.debug-metric-card--som .debug-metric-card__value { color: #34d399; }
.debug-metric-card--resilience .debug-metric-card__value { color: #fb923c; }
.debug-metric-card--mention .debug-metric-card__value { color: #a78bfa; }

/* Reference table (coefficients) */
.debug-ref-table {
    display: flex;
    gap: 1.5rem;
    margin: 0.5rem 0 0.75rem;
    flex-wrap: wrap;
}

.debug-ref-group h4 {
    font-size: 0.68rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.debug-ref-group table {
    border-collapse: collapse;
    font-size: 0.75rem;
}

.debug-ref-group td {
    padding: 1px 8px 1px 0;
    color: var(--text-secondary);
}

.debug-ref-group td:last-child {
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-primary);
    font-weight: 600;
}

.debug-ref-group tr.ref-active td {
    color: var(--accent);
}

/* Collapsible detail section */
.debug-details-toggle {
    background: none;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 0.3rem 0.6rem;
    color: var(--text-secondary);
    font-size: 0.75rem;
    font-family: inherit;
    cursor: pointer;
    transition: all var(--transition);
}
.debug-details-toggle:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.debug-details-content {
    display: none;
    margin-top: 0.75rem;
}
.debug-details-content.open {
    display: block;
}

/* Snapshot debug table — compact */
.debug-snapshot-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.76rem;
}

.debug-snapshot-table th {
    background: var(--bg-tertiary);
    padding: 6px 7px;
    text-align: left;
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--text-muted);
    border-bottom: 1px solid var(--border);
    white-space: nowrap;
    cursor: pointer;
    user-select: none;
    position: relative;
    padding-right: 16px;
}

.debug-snapshot-table th:hover {
    background: var(--bg-hover);
}

.debug-snapshot-table th.sort-asc::after {
    content: ' \2191';
    color: var(--accent);
    font-weight: 700;
}
.debug-snapshot-table th.sort-desc::after {
    content: ' \2193';
    color: var(--accent);
    font-weight: 700;
}

.debug-snapshot-table td {
    padding: 5px 7px;
    border-bottom: 1px solid var(--border);
    white-space: nowrap;
}

.debug-snapshot-table tbody tr {
    transition: background var(--transition);
    cursor: pointer;
}
.debug-snapshot-table tbody tr:hover {
    background: var(--bg-tertiary);
}

.debug-snapshot-table .col-num {
    font-family: 'JetBrains Mono', monospace;
    text-align: right;
    font-size: 0.74rem;
}

/* Pipeline trace timeline */
.trace-timeline {
    position: relative;
    padding-left: 2rem;
    margin: 1rem 0;
}

.trace-timeline::before {
    content: '';
    position: absolute;
    left: 0.75rem;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--border);
}

.trace-step {
    position: relative;
    margin-bottom: 1rem;
    padding: 0.85rem 1rem;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
}

.trace-step::before {
    content: '';
    position: absolute;
    left: -1.65rem;
    top: 1.1rem;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--bg-tertiary);
    border: 2px solid var(--border);
}

.trace-step--pass::before {
    background: #34d399;
    border-color: #34d399;
}

.trace-step--warn::before {
    background: #fbbf24;
    border-color: #fbbf24;
}

.trace-step--fail::before {
    background: #f87171;
    border-color: #f87171;
}

.trace-step__header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.4rem;
}

.trace-step__number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.4rem;
    height: 1.4rem;
    border-radius: 50%;
    background: var(--accent);
    color: #fff;
    font-size: 0.68rem;
    font-weight: 700;
    flex-shrink: 0;
}

.trace-step__title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary);
}

.trace-step__body {
    font-size: 0.78rem;
    color: var(--text-secondary);
    line-height: 1.5;
}

.trace-step__body code {
    background: var(--bg-primary);
    padding: 1px 5px;
    border-radius: 3px;
    font-size: 0.76rem;
    color: var(--text-primary);
}

.trace-step__body dl {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 3px 10px;
    margin: 0.35rem 0;
}

.trace-step__body dt {
    color: var(--text-muted);
    font-size: 0.74rem;
    text-align: right;
}

.trace-step__body dd {
    margin: 0;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.76rem;
}

/* Judge method badge */
.judge-method-badge {
    font-size: 0.68rem;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 10px;
    margin-left: auto;
}

.judge-method-badge--llm {
    background: rgba(52, 211, 153, 0.15);
    color: #34d399;
    border: 1px solid rgba(52, 211, 153, 0.3);
}

.judge-method-badge--heuristic {
    background: rgba(251, 191, 36, 0.15);
    color: #fbbf24;
    border: 1px solid rgba(251, 191, 36, 0.3);
}

/* Judge prompt details */
.judge-details {
    margin-top: 0.5rem;
    border-top: 1px solid var(--border);
    padding-top: 0.25rem;
}

.judge-prompt-block {
    margin-top: 0.75rem;
}

.judge-prompt-label {
    font-size: 0.72rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.03em;
    margin-bottom: 0.25rem;
}

.judge-prompt-content {
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 0.75rem;
    font-size: 0.72rem;
    line-height: 1.5;
    white-space: pre-wrap;
    word-break: break-word;
    max-height: 300px;
    overflow-y: auto;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
    margin: 0;
}

.judge-prompt-content.judge-response {
    border-left: 3px solid #34d399;
}

/* ---- Term Tooltips ---- */
.term-tip {
    cursor: help;
    border-bottom: 1px dotted var(--text-secondary);
    position: relative;
    display: inline;
}

.term-tip__icon {
    width: 12px;
    height: 12px;
    vertical-align: middle;
    margin-left: 2px;
    opacity: 0.4;
    color: var(--text-secondary);
}

.term-tip:hover .term-tip__icon {
    opacity: 0.8;
    color: var(--accent);
}

/* Styled tooltip popup (uses data-tip attribute) */
.term-tip::after {
    content: attr(data-tip);
    position: absolute;
    bottom: calc(100% + 8px);
    left: 0;
    transform: none;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 400;
    line-height: 1.45;
    white-space: normal;
    width: max-content;
    max-width: 320px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    text-align: left;
    text-transform: none;
    letter-spacing: normal;
}

.term-tip:hover::after {
    opacity: 1;
}

/* Hide popup when no data-tip content */
.term-tip:not([data-tip])::after,
.term-tip[data-tip=""]::after {
    display: none;
}

/* ---- Scoring Formula Visualization ---- */
.scoring-formula-block {
    background: rgba(59, 130, 246, 0.04);
    border: 1px solid rgba(59, 130, 246, 0.12);
    border-radius: 8px;
    padding: 0.75rem;
    margin-top: 0.35rem;
}

.scoring-formula-title {
    font-size: 0.72rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.03em;
    margin-bottom: 0.35rem;
}

.scoring-formula-code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--accent);
    background: rgba(0, 0, 0, 0.2);
    padding: 0.4rem 0.6rem;
    border-radius: 6px;
    display: inline-block;
    margin-bottom: 0.5rem;
}

.scoring-factors {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 0.5rem;
}

.scoring-factor {
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
    text-align: center;
    min-width: 80px;
}

.scoring-factor--result {
    background: rgba(59, 130, 246, 0.1);
    border-color: var(--accent);
}

.scoring-factor__label {
    font-size: 0.68rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--text-secondary);
    margin-bottom: 0.15rem;
}

.scoring-factor__value {
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
}

.scoring-factor--result .scoring-factor__value {
    color: var(--accent);
}

.scoring-factor__hint {
    font-size: 0.68rem;
    color: var(--text-secondary);
    margin-top: 0.15rem;
    max-width: 160px;
    line-height: 1.3;
}

.scoring-factor__operator {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-secondary);
    padding: 0 0.15rem;
}

/* ---- Mention Rate Split (Organic vs Prompted) ---- */
.mention-rate-split {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
    margin-top: 0.75rem;
}

.mention-rate-segment {
    border-radius: 8px;
    padding: 0.65rem;
}

.mention-rate-segment--organic {
    background: rgba(52, 211, 153, 0.06);
    border: 1px solid rgba(52, 211, 153, 0.2);
}

.mention-rate-segment--prompted {
    background: rgba(148, 163, 184, 0.06);
    border: 1px solid rgba(148, 163, 184, 0.15);
}

.mention-rate-segment__header {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    margin-bottom: 0.25rem;
}

.mention-rate-segment__icon {
    font-size: 0.9rem;
}

.mention-rate-segment__title {
    font-weight: 600;
    font-size: 0.82rem;
    color: var(--text-primary);
}

.mention-rate-segment__badge {
    margin-left: auto;
    font-size: 1rem;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    color: #34d399;
}

.mention-rate-segment__badge--muted {
    color: var(--text-secondary);
}

.mention-rate-segment__desc {
    font-size: 0.7rem;
    color: var(--text-secondary);
    margin-bottom: 0.3rem;
}

.mention-rate-segment__formula {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--accent);
    margin-bottom: 0.15rem;
}

.mention-rate-segment__stats {
    font-size: 0.72rem;
    color: var(--text-secondary);
}

/* Brand-in-prompt tag in snapshot table */
.bip-tag {
    font-size: 0.7rem;
    margin-right: 3px;
    cursor: help;
}

/* Debug page header */
.debug-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1rem;
}

.debug-header h1 {
    font-size: 1.15rem;
    margin: 0;
}

.debug-header__links {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    font-size: 0.82rem;
}

/* Filter row */
.debug-filters {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: wrap;
}

.debug-filters select {
    padding: 4px 8px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 0.76rem;
    font-family: inherit;
    background: var(--bg-primary);
    color: var(--text-primary);
}

.debug-filters select:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

/* Trace modal (wider) */
.trace-modal {
    width: 880px;
    max-width: 95vw;
}

/* Btn trace */
.btn-trace {
    background: rgba(167,139,250,0.12);
    color: #a78bfa;
    font-size: 0.68rem;
    padding: 2px 7px;
    border: 1px solid rgba(167,139,250,0.3);
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
}
.btn-trace:hover {
    background: #a78bfa;
    color: #fff;
    border-color: #a78bfa;
}

/* Debug link badge on dashboard */
.debug-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    border: 1px solid rgba(167,139,250,0.3);
    border-radius: var(--radius);
    background: rgba(167,139,250,0.08);
    color: #a78bfa;
    font-size: 0.82rem;
    font-weight: 500;
    transition: all var(--transition);
    text-decoration: none;
}
.debug-link:hover {
    background: rgba(167,139,250,0.2);
    border-color: #a78bfa;
    color: #c4b5fd;
}

/* ================================================================
   ONBOARDING WIZARD
   ================================================================ */

.wizard-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* ---- Progress Bar ---- */
.wizard-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    margin-bottom: 2rem;
    padding: 1.5rem 0;
}

.wizard-progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    position: relative;
    z-index: 1;
}

.step-number {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--bg-tertiary);
    border: 2px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 600;
    color: var(--text-secondary);
    transition: all var(--transition);
}

.wizard-progress-step.active .step-number {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
    box-shadow: 0 0 16px var(--accent-glow);
}

.wizard-progress-step.completed .step-number {
    background: var(--success);
    border-color: var(--success);
    color: #fff;
}

.step-label {
    font-size: 12px;
    color: var(--text-muted);
    font-weight: 500;
    white-space: nowrap;
}

.wizard-progress-step.active .step-label {
    color: var(--accent);
}

.wizard-progress-step.completed .step-label {
    color: var(--success);
}

.step-connector {
    flex: 1;
    max-width: 80px;
    min-width: 24px;
    height: 2px;
    background: var(--border);
    margin: 0 4px;
    margin-bottom: 22px;
    transition: background var(--transition);
}

.step-connector.completed {
    background: var(--success);
}

/* ---- Split Layout ---- */
.wizard-split {
    min-height: 500px;
}

.wizard-form-panel {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: 2rem;
    max-width: 800px;
    margin: 0 auto;
}

/* ---- Wizard Steps ---- */
.wizard-step {
    display: none;
}

.wizard-step.active {
    display: block;
    animation: wizFadeIn 0.25s ease;
}

@keyframes wizFadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}

.wizard-step h2 {
    font-size: 20px;
    margin-bottom: 4px;
}

.step-description {
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    font-size: 14px;
}

/* ---- Form elements ---- */
.form-group {
    margin-bottom: 1.25rem;
}

.form-group label {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
}

.form-input {
    width: 100%;
    padding: 10px 14px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    color: var(--text-primary);
    font-size: 14px;
    font-family: inherit;
    transition: border-color var(--transition);
}

.form-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-glow);
}

.field-error {
    color: var(--danger);
    font-size: 12px;
    margin-top: 4px;
    display: none;
}

.field-hint {
    color: var(--text-muted);
    font-size: 12px;
    margin-top: 4px;
}

.field-count {
    float: right;
    font-weight: 400;
    color: var(--text-muted);
    font-size: 12px;
}

.optional {
    font-weight: 400;
    color: var(--text-muted);
}

.required {
    color: var(--danger);
}

/* ---- Chip Input ---- */
.chip-input-container {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    padding: 8px 10px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    min-height: 46px;
    cursor: text;
    transition: border-color var(--transition);
}

.chip-input-container:focus-within {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-glow);
}

.chip-input-tall {
    min-height: 80px;
    align-content: flex-start;
}

.chip-text-input {
    flex: 1;
    min-width: 120px;
    background: transparent;
    border: none;
    outline: none;
    color: var(--text-primary);
    font-size: 14px;
    font-family: inherit;
    padding: 4px 0;
}

.chip-text-input::placeholder {
    color: var(--text-muted);
}

.chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    background: rgba(59, 130, 246, 0.15);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 20px;
    color: #93c5fd;
    font-size: 13px;
    white-space: nowrap;
    animation: chipIn 0.15s ease;
}

@keyframes chipIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.chip-remove {
    background: none;
    border: none;
    color: #93c5fd;
    cursor: pointer;
    padding: 0 2px;
    font-size: 16px;
    line-height: 1;
    opacity: 0.7;
    transition: opacity var(--transition);
}

.chip-remove:hover {
    opacity: 1;
    color: var(--danger);
}

/* ---- Suggestion Chips ---- */
.suggestions-container {
    margin-top: 8px;
    padding: 10px 12px;
    background: color-mix(in srgb, var(--primary) 5%, transparent);
    border: 1px dashed color-mix(in srgb, var(--primary) 30%, transparent);
    border-radius: var(--radius);
}

.suggestions-label {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
}

.suggestions-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.suggestion-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    background: var(--bg-primary);
    border: 1px dashed color-mix(in srgb, var(--primary) 40%, transparent);
    border-radius: 999px;
    font-size: 13px;
    color: var(--primary);
    cursor: pointer;
    transition: all var(--transition);
    user-select: none;
}

.suggestion-chip:hover {
    background: color-mix(in srgb, var(--primary) 12%, transparent);
    border-color: var(--primary);
    transform: translateY(-1px);
}

.suggestion-chip .suggestion-plus {
    font-size: 14px;
    font-weight: 600;
    line-height: 1;
}

/* ---- Market Toggle ---- */
.market-toggle {
    display: flex;
    gap: 8px;
}

.market-btn {
    flex: 1;
    padding: 10px 16px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    color: var(--text-secondary);
    font-size: 14px;
    font-family: inherit;
    cursor: pointer;
    transition: all var(--transition);
}

.market-btn.active {
    background: rgba(59, 130, 246, 0.12);
    border-color: var(--accent);
    color: var(--accent);
    font-weight: 600;
}

.market-btn:hover:not(.active) {
    background: var(--bg-hover);
}

/* ---- Persona Cards ---- */
.persona-cards {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.persona-card {
    padding: 14px;
    background: var(--bg-tertiary);
    border: 2px solid var(--border);
    border-radius: var(--radius);
    cursor: pointer;
    transition: all var(--transition);
    text-align: center;
    user-select: none;
}

.persona-card.active {
    border-color: var(--accent);
    background: rgba(59, 130, 246, 0.08);
}

.persona-card:hover {
    background: var(--bg-hover);
}

.persona-card.active:hover {
    background: rgba(59, 130, 246, 0.12);
}

.persona-icon {
    font-size: 28px;
    margin-bottom: 4px;
}

.persona-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2px;
}

.persona-desc {
    font-size: 11px;
    color: var(--text-muted);
}

/* ---- Scenario Cards ---- */
.scenario-cards-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 4px;
}

.scenario-card {
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    transition: all var(--transition);
}

.scenario-card:hover {
    border-color: color-mix(in srgb, var(--accent) 50%, var(--border));
}

.scenario-card--expanded {
    border-color: var(--accent);
    background: color-mix(in srgb, var(--accent) 4%, var(--bg-tertiary));
}

.scenario-card-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    cursor: pointer;
    user-select: none;
}

.scenario-card-arrow {
    font-size: 12px;
    color: var(--text-muted);
    width: 14px;
    flex-shrink: 0;
}

.scenario-card-name {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.scenario-card-preview {
    font-size: 12px;
    color: var(--text-muted);
    flex-shrink: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 200px;
}

.scenario-card-remove {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 18px;
    cursor: pointer;
    padding: 0 4px;
    line-height: 1;
    flex-shrink: 0;
    transition: color var(--transition);
}

.scenario-card-remove:hover {
    color: var(--danger, #ef4444);
}

.scenario-card-body {
    padding: 0 12px 12px 34px;
}

.scenario-desc-label {
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 4px;
    display: block;
}

.scenario-desc-textarea {
    width: 100%;
    padding: 8px 10px;
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    color: var(--text-primary);
    font-family: inherit;
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    transition: border-color var(--transition);
}

.scenario-desc-textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-glow);
}

.scenario-desc-textarea::placeholder {
    color: var(--text-muted);
    font-size: 12px;
}

/* ---- LLM Provider Toggles ---- */
.llm-provider-toggles {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.llm-toggle {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: 20px;
    color: var(--text-secondary);
    font-size: 13px;
    font-family: inherit;
    cursor: pointer;
    transition: all var(--transition);
}

.llm-toggle.active {
    border-color: var(--accent);
    color: var(--text-primary);
    background: rgba(59, 130, 246, 0.1);
}

.llm-toggle:hover:not(.active) {
    background: var(--bg-hover);
}

.llm-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

/* ---- Toggle Label (checkbox) ---- */
.toggle-label {
    display: flex !important;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-weight: 500 !important;
}

.toggle-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--accent);
}

/* ---- Wizard Navigation ---- */
.wizard-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border);
}

.btn-ghost {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 10px 20px;
    border-radius: var(--radius);
    font-size: 14px;
    font-family: inherit;
    cursor: pointer;
    transition: all var(--transition);
}

.btn-ghost:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.btn-accent {
    background: var(--accent);
    border: none;
    color: #fff;
    padding: 12px 24px;
    border-radius: var(--radius);
    font-size: 14px;
    font-weight: 600;
    font-family: inherit;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all var(--transition);
}

.btn-accent:hover {
    background: var(--accent-hover);
    box-shadow: 0 0 20px var(--accent-glow);
}

.btn-accent:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.btn-lg {
    padding: 14px 28px;
    font-size: 15px;
}


/* ---- Sample Prompt Cards ---- */
.sample-prompt-card {
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 12px;
    margin-bottom: 8px;
}

.sample-prompt-text {
    font-size: 13px;
    color: var(--text-primary);
    line-height: 1.5;
    margin-bottom: 8px;
    font-style: italic;
}

.sample-prompt-meta {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.meta-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 500;
}

.meta-badge.persona {
    background: rgba(139, 92, 246, 0.15);
    color: #a78bfa;
}

.meta-badge.intent {
    background: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
}

.meta-badge.llm {
    background: rgba(16, 185, 129, 0.15);
    color: #6ee7b7;
}

/* ---- Step 6: Prompt Editor ---- */


.prompt-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 16px;
    margin-bottom: 16px;
    flex-wrap: wrap;
}

.prompt-editor-header h2 {
    margin-bottom: 4px;
}

.prompt-editor-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
}

.btn-danger-text {
    color: var(--danger) !important;
}

.btn-danger-text:hover {
    background: rgba(239, 68, 68, 0.1) !important;
}

/* Toolbar: Filters + Stats */
.prompt-editor-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    margin-bottom: 12px;
    flex-wrap: wrap;
}

.prompt-filter-group {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
}

.prompt-filter-label {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
}

.prompt-filter-select {
    padding: 5px 10px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 12px;
    min-width: 120px;
}

.prompt-filter-select:focus {
    border-color: var(--accent);
    outline: none;
}

.prompt-filter-input {
    padding: 5px 10px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 12px;
    width: 160px;
}

.prompt-filter-input:focus {
    border-color: var(--accent);
    outline: none;
}

.prompt-stats-bar {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
}

.prompt-stat {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    white-space: nowrap;
}

.prompt-stat-thematic {
    color: #a78bfa;
}

.prompt-stat-branded {
    color: #fbbf24;
}

/* Generation Status */
.prompt-generation-status {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 3rem 1rem;
    color: var(--text-secondary);
    font-size: 14px;
}

/* Prompt List */
.prompt-editor-list {
    max-height: 60vh;
    overflow-y: auto;
    padding-right: 4px;
}

.prompt-editor-list::-webkit-scrollbar {
    width: 6px;
}

.prompt-editor-list::-webkit-scrollbar-track {
    background: transparent;
}

.prompt-editor-list::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 3px;
}

.prompt-editor-empty {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--text-muted);
    font-size: 14px;
}

/* Prompt Card */
.prompt-card {
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    margin-bottom: 6px;
    transition: border-color 0.2s, background 0.2s;
    opacity: 0.6;
}

.prompt-card--selected {
    opacity: 1;
    border-color: rgba(59, 130, 246, 0.3);
}

.prompt-card:hover {
    border-color: rgba(59, 130, 246, 0.4);
}

.prompt-card-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px 4px;
}

.prompt-checkbox {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    flex-shrink: 0;
}

.prompt-checkbox input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--accent);
    cursor: pointer;
}

.prompt-badges {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    flex: 1;
}

.prompt-card-actions {
    display: flex;
    gap: 4px;
    flex-shrink: 0;
    opacity: 0;
    transition: opacity 0.2s;
}

.prompt-card:hover .prompt-card-actions {
    opacity: 1;
}

.btn-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.2s, color 0.2s;
}

.btn-icon:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
}

.btn-icon--danger:hover {
    background: rgba(239, 68, 68, 0.15);
    color: var(--danger);
}

.prompt-card-body {
    padding: 2px 12px 10px;
}

.prompt-text {
    font-size: 13px;
    line-height: 1.5;
    color: var(--text-primary);
}

/* V2 Meta Badges */
.meta-badge--thematic {
    background: rgba(139, 92, 246, 0.15);
    color: #a78bfa;
}

.meta-badge--branded {
    background: rgba(251, 191, 36, 0.15);
    color: #fbbf24;
}

.meta-badge--subtype {
    background: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
}

.meta-badge--category {
    background: rgba(16, 185, 129, 0.1);
    color: #6ee7b7;
    max-width: 180px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Edit mode */
.prompt-edit-textarea {
    width: 100%;
    padding: 8px 10px;
    background: var(--bg-secondary);
    border: 1px solid var(--accent);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    font-family: inherit;
}

.prompt-edit-textarea:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
}

.prompt-edit-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    margin-top: 8px;
}

.btn-xs {
    padding: 4px 12px !important;
    font-size: 12px !important;
}

/* Add Custom Prompt */
.prompt-add-panel {
    margin-top: 12px;
    padding: 12px;
    background: var(--bg-tertiary);
    border: 1px dashed var(--border);
    border-radius: var(--radius);
}

.prompt-add-row {
    display: flex;
    gap: 8px;
    align-items: center;
}

.prompt-add-input {
    flex: 1;
    font-size: 13px !important;
    padding: 8px 12px !important;
}


/* ---- Responsive ---- */
@media (max-width: 1024px) {
    .step-label {
        display: none;
    }

    .step-connector {
        margin-bottom: 0;
    }

    .prompt-editor-toolbar {
        flex-direction: column;
        align-items: flex-start;
    }

    .prompt-filter-group {
        width: 100%;
    }
}

@media (max-width: 768px) {
    .wizard-form-panel {
        padding: 1.25rem;
    }

    .persona-cards {
        grid-template-columns: 1fr;
    }

    .wizard-progress {
        padding: 1rem 0;
    }

    .step-number {
        width: 30px;
        height: 30px;
        font-size: 12px;
    }

    .prompt-editor-header {
        flex-direction: column;
    }

    .prompt-add-row {
        flex-direction: column;
    }

    .prompt-add-row .prompt-filter-select {
        width: 100%;
    }
}


/* ================================================================
   PROMPTS MANAGEMENT PAGE
   ================================================================ */

.prompts-context-bar {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
    padding: 12px 0;
}

.prompts-context-bar .back-link {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--text-secondary);
    font-size: 13px;
    text-decoration: none;
}
.prompts-context-bar .back-link:hover { color: var(--accent); }
.prompts-context-bar .project-name {
    font-weight: 600;
    font-size: 15px;
    color: var(--text-primary);
    flex: 1;
}

.prompts-stats-bar {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 20px;
}

.stat-pill {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 10px 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 80px;
}

.stat-pill .stat-number {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    font-family: 'JetBrains Mono', monospace;
}

.stat-pill .stat-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    margin-top: 2px;
}

.stat-pill.stat-active .stat-number { color: var(--success); }
.stat-pill.stat-inactive .stat-number { color: var(--danger); }

.prompts-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
    flex-wrap: wrap;
}

.prompts-filters {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    flex: 1;
}

.prompts-filters .form-input {
    padding: 7px 10px;
    font-size: 13px;
    min-width: 130px;
}

.prompts-filters input[type="text"].form-input {
    min-width: 200px;
}

.prompts-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.prompts-bulk-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.25);
    border-radius: var(--radius);
    padding: 8px 16px;
    margin-bottom: 12px;
    font-size: 13px;
    color: var(--accent);
}

.prompts-text-cell {
    max-width: 420px;
    white-space: normal !important;
    line-height: 1.4;
    word-break: break-word;
    font-size: 13px;
}

.badge-thematic {
    background: rgba(139, 92, 246, 0.12);
    color: #a78bfa;
    border: 1px solid rgba(139, 92, 246, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-branded {
    background: rgba(245, 158, 11, 0.12);
    color: #fbbf24;
    border: 1px solid rgba(245, 158, 11, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-custom {
    background: rgba(16, 185, 129, 0.12);
    color: #34d399;
    border: 1px solid rgba(16, 185, 129, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-subtype {
    background: rgba(59, 130, 246, 0.08);
    color: var(--text-secondary);
    border: 1px solid var(--border);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
}

.badge-active {
    background: rgba(16, 185, 129, 0.12);
    color: var(--success);
    border: 1px solid rgba(16, 185, 129, 0.3);
    padding: 2px 10px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
}
.badge-active:hover { background: rgba(16, 185, 129, 0.2); }

.badge-inactive {
    background: rgba(239, 68, 68, 0.1);
    color: var(--danger);
    border: 1px solid rgba(239, 68, 68, 0.25);
    padding: 2px 10px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
}
.badge-inactive:hover { background: rgba(239, 68, 68, 0.18); }

.prompts-pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 0;
}

.pagination-btns {
    display: flex;
    gap: 4px;
}

.pagination-btns .btn-sm {
    min-width: 36px;
    text-align: center;
}

.btn-icon {
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: color 0.15s, background 0.15s;
}
.btn-icon:hover {
    color: var(--accent);
    background: rgba(59, 130, 246, 0.1);
}
.btn-icon--danger:hover {
    color: var(--danger);
    background: rgba(239, 68, 68, 0.1);
}

.prompts-table-row-selected {
    background: rgba(59, 130, 246, 0.06);
}

@media (max-width: 768px) {
    .prompts-toolbar {
        flex-direction: column;
        align-items: stretch;
    }
    .prompts-filters {
        flex-direction: column;
    }
    .prompts-filters .form-input {
        min-width: 100%;
    }
}

/* Scenario tabs strip */
.scenario-tabs-strip {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    margin-bottom: 16px;
    padding: 4px 0;
}

.scenario-tab {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    border: 1px solid var(--border);
    background: var(--bg-secondary);
    color: var(--text-secondary);
    transition: all 0.15s;
}
.scenario-tab:hover {
    border-color: var(--accent);
    color: var(--accent);
}
.scenario-tab--active {
    background: rgba(59, 130, 246, 0.12);
    border-color: var(--accent);
    color: var(--accent);
}
.scenario-tab--add {
    border-style: dashed;
    color: var(--text-muted);
    font-weight: 400;
}
.scenario-tab--add:hover {
    border-color: var(--success);
    color: var(--success);
}
.scenario-tab-count {
    background: rgba(255,255,255,0.08);
    border-radius: 10px;
    padding: 1px 7px;
    font-size: 11px;
    font-weight: 600;
    font-family: 'JetBrains Mono', monospace;
}

/* Scenario tab hierarchy */
.scenario-tab--parent {
    font-weight: 700;
    border-width: 1.5px;
}
.scenario-tab--child {
    font-weight: 400;
    font-size: 12px;
    padding: 4px 11px;
    margin-left: 4px;
    border-style: dashed;
    border-color: var(--border);
}
.scenario-tab--child:hover {
    border-style: solid;
}
.scenario-tab--child.scenario-tab--active {
    border-style: solid;
}
.scenario-actions-btn {
    font-size: 13px;
    opacity: 0;
    transition: opacity 0.15s;
    cursor: pointer;
    color: var(--text-muted);
    margin-left: 2px;
}
.scenario-tab:hover .scenario-actions-btn {
    opacity: 0.7;
}
.scenario-actions-btn:hover {
    opacity: 1 !important;
    color: var(--accent);
}

/* Generation panel */
.gen-panel {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 16px 20px;
    margin-bottom: 16px;
}
.gen-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 8px;
}
.gen-panel-header h3 {
    font-size: 14px;
    font-weight: 600;
    margin: 0;
}
.gen-panel-desc {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 12px;
    line-height: 1.5;
}
.gen-panel-status {
    font-size: 13px;
    color: var(--accent);
    padding: 12px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}
.gen-panel-status::before {
    content: '';
    width: 14px;
    height: 14px;
    border: 2px solid var(--accent);
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    flex-shrink: 0;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
.gen-panel-actions-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    margin-bottom: 10px;
}
.gen-panel-count {
    font-size: 12px;
    color: var(--text-secondary);
    font-weight: 500;
}
.gen-panel-actions {
    display: flex;
    gap: 8px;
    align-items: center;
    margin-top: 12px;
}

/* Generated prompt list */
.gen-prompt-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 320px;
    overflow-y: auto;
    padding-right: 4px;
}
.gen-prompt-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 8px 10px;
    border-radius: var(--radius);
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    cursor: pointer;
    transition: border-color 0.15s;
    font-size: 13px;
    line-height: 1.45;
}
.gen-prompt-item:hover {
    border-color: var(--accent);
}
.gen-prompt-checkbox {
    margin-top: 2px;
    accent-color: var(--accent);
    flex-shrink: 0;
}
.gen-prompt-text {
    color: var(--text-primary);
    word-break: break-word;
    flex: 1;
}
.gen-prompt-text--edited {
    border-left: 2px solid var(--accent);
    padding-left: 6px;
}
.gen-prompt-edit-textarea {
    flex: 1;
    min-height: 40px;
    font-size: 13px;
    resize: vertical;
}
.gen-edit-btn {
    opacity: 0;
    transition: opacity 0.15s;
    flex-shrink: 0;
}
.gen-prompt-item:hover .gen-edit-btn {
    opacity: 0.5;
}
.gen-edit-btn:hover {
    opacity: 1 !important;
}

/* Scenario delete confirmation */
.scenario-delete-opts {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 12px 0;
}
.scenario-delete-opt {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: var(--radius);
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    cursor: pointer;
    font-size: 13px;
    color: var(--text-primary);
    transition: border-color 0.15s;
}
.scenario-delete-opt:hover {
    border-color: var(--accent);
}
.scenario-delete-opt input[type="radio"] {
    accent-color: var(--accent);
}

/* Tag chips in table rows */
.tag-chips-row {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    margin-top: 4px;
}
.tag-chip {
    display: inline-block;
    padding: 1px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 500;
    line-height: 1.6;
}
.tag-chip--scenario {
    background: rgba(59, 130, 246, 0.1);
    color: #60a5fa;
    border: 1px solid rgba(59, 130, 246, 0.25);
}
.tag-chip--class {
    background: rgba(139, 92, 246, 0.1);
    color: #a78bfa;
    border: 1px solid rgba(139, 92, 246, 0.25);
}

/* Tag checkboxes in modals */
.modal-tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 8px 0;
}
.modal-tag-item {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 13px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    cursor: pointer;
    color: var(--text-secondary);
}
.modal-tag-item:hover {
    border-color: var(--accent);
}
.modal-tag-item input[type="checkbox"] {
    accent-color: var(--accent);
}

/* Bulk tag list in modal */
.bulk-tag-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.bulk-tag-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 13px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    cursor: pointer;
    color: var(--text-primary);
}
.bulk-tag-item:hover {
    border-color: var(--accent);
}
.bulk-tag-item input[type="checkbox"] {
    accent-color: var(--accent);
}

/* ================================================================
   Competitors Page
   ================================================================ */

.competitors-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 1rem;
}
@media (max-width: 900px) {
    .competitors-grid { grid-template-columns: 1fr; }
}

.competitors-section {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1.25rem;
}

.competitors-section__title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.competitor-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.65rem 0.85rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

.competitor-card__name {
    font-weight: 500;
    color: var(--text-primary);
    font-size: 0.9rem;
}

.competitor-card__meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.78rem;
    color: var(--text-secondary);
}

.competitor-card__remove {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: color 0.2s, background 0.2s;
}
.competitor-card__remove:hover {
    color: var(--danger);
    background: var(--danger-bg);
}

.competitor-add-form {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.75rem;
}
.competitor-add-form .form-input {
    flex: 1;
}

.entity-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.6rem 0.85rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 0.5rem;
    gap: 0.5rem;
}

.entity-card__info {
    flex: 1;
    min-width: 0;
}

.entity-card__name {
    font-weight: 500;
    color: var(--text-primary);
    font-size: 0.88rem;
}

.entity-card__meta {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin-top: 2px;
}

.entity-card__actions {
    display: flex;
    gap: 0.35rem;
    flex-shrink: 0;
}

.badge-pending {
    background: rgba(245, 158, 11, 0.12);
    color: #f59e0b;
    border: 1px solid rgba(245, 158, 11, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-confirmed {
    background: rgba(16, 185, 129, 0.12);
    color: #34d399;
    border: 1px solid rgba(16, 185, 129, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-rejected {
    background: rgba(239, 68, 68, 0.12);
    color: #f87171;
    border: 1px solid rgba(239, 68, 68, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.badge-promoted {
    background: rgba(59, 130, 246, 0.12);
    color: #60a5fa;
    border: 1px solid rgba(59, 130, 246, 0.3);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

.entity-toolbar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}

.parent-select {
    background: var(--bg-card);
    color: var(--accent);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 0 0.3rem;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: pointer;
    max-width: 160px;
    vertical-align: baseline;
}
.parent-select:hover {
    border-color: var(--accent);
}

.entity-pagination {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    margin-top: 1rem;
    padding-top: 0.75rem;
    border-top: 1px solid var(--border);
    flex-wrap: wrap;
}

.entity-empty {
    text-align: center;
    padding: 2rem 1rem;
    color: var(--text-muted);
    font-size: 0.85rem;
}

.verify-progress {
    padding: 1rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 0.75rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.verify-progress .spinner {
    display: inline-block;
    width: 14px;
    height: 14px;
    border: 2px solid var(--border);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    vertical-align: middle;
    margin-right: 0.5rem;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ================================================================
   GEO Command Center (gcc-*)
   ================================================================ */

/* Persistent Header */
.gcc-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 0.75rem 1.25rem;
    margin-bottom: 1rem;
}

.gcc-header__toggles {
    display: flex;
    gap: 0.35rem;
    flex: 1;
    flex-wrap: wrap;
}

.gcc-toggle {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.4rem 0.85rem;
    border: 1px solid var(--border);
    border-radius: 20px;
    background: transparent;
    color: var(--text-muted);
    font-size: 0.78rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    font-family: inherit;
}

.gcc-toggle:hover {
    border-color: var(--toggle-color);
    color: var(--text-secondary);
}

.gcc-toggle--active {
    background: color-mix(in srgb, var(--toggle-color) 15%, transparent);
    border-color: var(--toggle-color);
    color: var(--toggle-color);
}

.gcc-toggle__label {
    white-space: nowrap;
}

.gcc-header__readiness {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.15rem;
    border-left: 1px solid var(--border);
    padding-left: 1rem;
}

.gcc-header__readiness-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-muted);
}

.gcc-header__alerts {
    position: relative;
    border-left: 1px solid var(--border);
    padding-left: 0.75rem;
}

.gcc-alert-bell {
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: background 0.2s;
    position: relative;
}

.gcc-alert-bell:hover {
    background: var(--bg-tertiary);
}

.gcc-alert-count {
    position: absolute;
    top: 2px;
    right: 0;
    background: #f87171;
    color: #fff;
    font-size: 0.6rem;
    font-weight: 700;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Alert Panel (dropdown) */
.gcc-alert-panel {
    position: fixed;
    top: 60px;
    right: 2rem;
    width: 380px;
    max-height: 400px;
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    z-index: 1000;
    overflow: hidden;
}

.gcc-alert-panel__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--border);
    color: var(--text-primary);
    font-size: 0.85rem;
}

.gcc-alert-panel__close {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    font-size: 1.2rem;
    padding: 0;
    line-height: 1;
}

.gcc-alert-panel__body {
    padding: 0.75rem 1rem;
    overflow-y: auto;
    max-height: 330px;
}

.gcc-alert-item {
    display: flex;
    gap: 0.75rem;
    padding: 0.6rem 0;
    border-bottom: 1px solid var(--border);
    font-size: 0.82rem;
}

.gcc-alert-item:last-child {
    border-bottom: none;
}

.gcc-alert-sev {
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.3px;
    white-space: nowrap;
    min-width: 60px;
}

.gcc-alert-text p {
    color: var(--text-secondary);
    font-size: 0.78rem;
    margin-top: 0.25rem;
}

/* KPI Cards Grid */
.gcc-kpi-cards {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin-bottom: 1rem;
}

/* KPI Chart Grid */
.gcc-kpi-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 1rem;
}

.gcc-kpi-grid--2col {
    grid-template-columns: repeat(2, 1fr);
}

/* Provider Badge (inline pill) */
.gcc-provider-badge {
    display: inline-block;
    padding: 0.15rem 0.5rem;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--badge-color, #64748b);
    background: color-mix(in srgb, var(--badge-color, #64748b) 12%, transparent);
    margin-right: 0.25rem;
    white-space: nowrap;
}

/* Stub Styles */
.gcc-stub-header {
    margin-bottom: 1.25rem;
}

.gcc-stub-header h2 {
    font-size: 1.1rem;
    margin-bottom: 0.35rem;
}

.gcc-stub-desc {
    color: var(--text-secondary);
    font-size: 0.85rem;
}

.gcc-stub-grid {
    display: grid;
    gap: 1rem;
}

.gcc-stub-grid--2col {
    grid-template-columns: repeat(2, 1fr);
}

.gcc-stub-card {
    min-height: 200px;
}

.gcc-stub-content {
    padding: 0.5rem 0;
}

.gcc-stub-badge {
    display: inline-block;
    margin-top: 0.75rem;
    padding: 0.3rem 0.6rem;
    font-size: 0.7rem;
    color: var(--text-muted);
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 4px;
}

/* Bot Tester (robots.txt) */
.gcc-bot-tester__input {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.gcc-input {
    flex: 1;
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    color: var(--text-primary);
    font-size: 0.82rem;
    font-family: inherit;
}

.gcc-code-block {
    background: var(--bg-primary);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--text-secondary);
    overflow-x: auto;
    margin-bottom: 0.75rem;
    white-space: pre;
    line-height: 1.6;
}

.gcc-bot-results {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.gcc-bot-status {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.7rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
}

.gcc-bot-status--ok {
    background: rgba(52, 211, 153, 0.1);
    color: #34d399;
    border: 1px solid rgba(52, 211, 153, 0.2);
}

.gcc-bot-status--blocked {
    background: rgba(248, 113, 113, 0.1);
    color: #f87171;
    border: 1px solid rgba(248, 113, 113, 0.2);
}

.gcc-bot-name {
    font-family: 'JetBrains Mono', monospace;
}

.gcc-bot-badge {
    font-weight: 600;
}

/* NAP Table */
.gcc-nap-table td {
    padding: 0.5rem 0.75rem;
    font-size: 0.82rem;
}

/* Gauges Row */
.gcc-gauges-row {
    display: flex;
    justify-content: space-around;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 1rem 0;
}

.gcc-gauge-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
}

.gcc-gauge-item span {
    font-size: 0.78rem;
    color: var(--text-secondary);
}

/* Action Matrix */
.gcc-matrix {
    max-width: 960px;
}

.gcc-matrix-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.gcc-matrix-progress {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.gcc-matrix-progress-bar {
    width: 120px;
    height: 6px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 3px;
    overflow: hidden;
}

.gcc-matrix-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #34d399);
    border-radius: 3px;
    transition: width 0.5s ease;
    width: 0;
}

.gcc-accordion {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    margin-bottom: 0.5rem;
    overflow: hidden;
}

.gcc-accordion--complete > .gcc-accordion__trigger {
    border-left: 3px solid #34d399;
}

.gcc-accordion__trigger {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 1rem 1.25rem;
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    transition: background 0.2s;
    gap: 0.75rem;
}

.gcc-accordion__trigger:hover {
    background: var(--bg-tertiary);
}

.gcc-accordion__meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-left: auto;
    margin-right: 0.75rem;
}

.gcc-accordion__pct {
    font-size: 0.8rem;
    font-weight: 700;
    color: #34d399;
}

.gcc-accordion__count {
    font-size: 0.75rem;
    color: var(--text-muted);
    font-weight: 400;
}

.gcc-checklist-unlocked {
    font-size: 0.7rem;
    color: #34d399;
    margin-left: 0.5rem;
    white-space: nowrap;
}

.gcc-bot-status--warn {
    border-color: rgba(251, 191, 36, 0.3);
}

.gcc-bot-status--warn .gcc-bot-badge {
    color: #fbbf24;
}

.gcc-accordion__arrow {
    transition: transform 0.2s;
    color: var(--text-muted);
    flex-shrink: 0;
}

.gcc-accordion--open .gcc-accordion__arrow {
    transform: rotate(180deg);
}

.gcc-accordion__body {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    padding: 0 1.25rem;
}

.gcc-accordion--open .gcc-accordion__body {
    max-height: 800px;
    padding: 0 1.25rem 1rem;
}

.gcc-checklist-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.6rem 0;
    border-bottom: 1px solid var(--border);
    cursor: pointer;
    font-size: 0.85rem;
    color: var(--text-primary);
    transition: opacity 0.2s;
}

.gcc-checklist-item:last-child {
    border-bottom: none;
}

.gcc-checklist-item input[type="checkbox"] {
    margin-top: 2px;
    accent-color: var(--accent);
    flex-shrink: 0;
}

.gcc-checklist-item--done .gcc-checklist-text {
    text-decoration: line-through;
    color: var(--text-muted);
}

.gcc-checklist-item--locked {
    opacity: 0.5;
}

.gcc-checklist-lock {
    font-size: 0.7rem;
    color: var(--text-muted);
    margin-left: auto;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    flex-shrink: 0;
}

.gcc-checklist-auto {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--accent);
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.2);
    padding: 0.15rem 0.4rem;
    border-radius: 3px;
    margin-left: auto;
    flex-shrink: 0;
}

/* Responsive */
@media (max-width: 1200px) {
    .gcc-kpi-grid {
        grid-template-columns: 1fr 1fr;
    }
    .gcc-kpi-grid--2col {
        grid-template-columns: 1fr;
    }
    .gcc-kpi-cards {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 1024px) {
    .gcc-kpi-grid {
        grid-template-columns: 1fr;
    }
    .gcc-stub-grid--2col {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .gcc-header {
        flex-direction: column;
        align-items: stretch;
    }
    .gcc-header__readiness {
        border-left: none;
        border-top: 1px solid var(--border);
        padding: 0.75rem 0 0;
        padding-left: 0;
        flex-direction: row;
        justify-content: center;
        gap: 0.75rem;
    }
    .gcc-header__alerts {
        border-left: none;
        padding-left: 0;
        text-align: center;
    }
    .gcc-kpi-cards {
        grid-template-columns: 1fr;
    }
    .gcc-alert-panel {
        right: 0.5rem;
        left: 0.5rem;
        width: auto;
    }
    .gcc-gauges-row {
        flex-direction: column;
    }
}

/* ── GCC: Delta indicator chips ────────────────────────────── */
.gcc-delta {
    display: inline-block;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 0.1rem 0.4rem;
    border-radius: 4px;
    margin-left: 0.35rem;
    vertical-align: middle;
    line-height: 1.2;
}
.gcc-delta--up {
    color: #34d399;
    background: rgba(52, 211, 153, 0.12);
}
.gcc-delta--down {
    color: #f87171;
    background: rgba(248, 113, 113, 0.12);
}
.gcc-delta--neutral {
    color: var(--text-muted);
    background: rgba(148, 163, 184, 0.10);
}

/* ── GCC: 6-card KPI grid ─────────────────────────────────── */
.gcc-kpi-cards--6 {
    grid-template-columns: repeat(3, 1fr) !important;
}
@media (max-width: 1024px) {
    .gcc-kpi-cards--6 {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}
@media (max-width: 768px) {
    .gcc-kpi-cards--6 {
        grid-template-columns: 1fr !important;
    }
}

/* ── GCC: Clickable KPI card ──────────────────────────────── */
.gcc-kpi-card--clickable {
    cursor: pointer;
    transition: border-color 0.2s, box-shadow 0.2s;
    position: relative;
}
.gcc-kpi-card--clickable:hover {
    border-color: var(--accent);
    box-shadow: 0 0 0 1px var(--accent), 0 4px 12px rgba(59, 130, 246, 0.15);
}
.gcc-kpi-card--clickable::after {
    content: '⤢';
    position: absolute;
    top: 0.5rem;
    right: 0.6rem;
    font-size: 0.75rem;
    color: var(--text-muted);
    opacity: 0;
    transition: opacity 0.2s;
}
.gcc-kpi-card--clickable:hover::after {
    opacity: 1;
}

/* ── GCC: Drill-down modal ────────────────────────────────── */
.gcc-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.65);
    backdrop-filter: blur(4px);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: gcc-fade-in 0.2s ease-out;
}
@keyframes gcc-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}
.gcc-modal {
    background: var(--bg-secondary, #1a1f2e);
    border: 1px solid var(--border);
    border-radius: 12px;
    width: 90%;
    max-width: 640px;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: gcc-slide-up 0.25s ease-out;
}
@keyframes gcc-slide-up {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.gcc-modal__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--border);
}
.gcc-modal__header h3 {
    margin: 0;
    font-size: 1rem;
    color: var(--text-primary);
}
.gcc-modal__close {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0;
    line-height: 1;
    transition: color 0.2s;
}
.gcc-modal__close:hover {
    color: var(--text-primary);
}
.gcc-modal__body {
    padding: 1.25rem;
    overflow-y: auto;
    flex: 1;
}
.gcc-modal__body .serp-table {
    width: 100%;
    margin: 0;
}

/* ── GCC: NAP consistency summary row ─────────────────────── */
.gcc-nap-summary td {
    border-top: 2px solid var(--border);
    background: rgba(255, 255, 255, 0.02);
}

/* ── GCC: Yandex Neuro checklist ──────────────────────────── */
.gcc-yandex-checklist {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.gcc-ya-check-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.6rem 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--border);
    border-radius: 8px;
    transition: border-color 0.2s;
}
.gcc-ya-check-item:hover {
    border-color: var(--accent);
}
.gcc-ya-check-icon {
    font-size: 1.1rem;
    flex-shrink: 0;
    width: 1.5rem;
    text-align: center;
}
.gcc-ya-check-text {
    flex: 1;
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.4;
}
.gcc-ya-check-priority {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    flex-shrink: 0;
}

/* ── GCC: KPI Mini Strip (persistent below tabs) ──────────── */
.gcc-kpi-strip {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    padding: 0.4rem 1rem;
    background: rgba(255, 255, 255, 0.02);
    border-bottom: 1px solid var(--border);
    min-height: 2rem;
}
.gcc-kpi-strip__item {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0 0.5rem;
}
.gcc-kpi-strip__label {
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}
.gcc-kpi-strip__value {
    font-size: 0.85rem;
    font-weight: 700;
    font-variant-numeric: tabular-nums;
}
.gcc-kpi-strip__sep {
    width: 1px;
    height: 1rem;
    background: var(--border);
}
@media (max-width: 768px) {
    .gcc-kpi-strip {
        flex-wrap: wrap;
        gap: 0.35rem 0.5rem;
    }
    .gcc-kpi-strip__sep {
        display: none;
    }
}

/* ── GCC: Export bar ──────────────────────────────────────── */
.gcc-export-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--border);
}
.gcc-export-bar__title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}
.gcc-export-bar__actions {
    display: flex;
    gap: 0.5rem;
}
.gcc-export-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    font-size: 0.8rem;
    padding: 0.35rem 0.75rem;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
}
.gcc-export-btn:hover {
    background: rgba(59, 130, 246, 0.1);
    border-color: var(--accent);
    color: var(--accent);
}

/* ── GCC: Skeleton loading states ─────────────────────────── */
@keyframes gcc-pulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.15; }
}
.gcc-skeleton {
    background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.04) 75%);
    background-size: 200% 100%;
    animation: gcc-pulse 1.5s ease-in-out infinite;
    border-radius: 6px;
    margin-bottom: 0.5rem;
}
.gcc-skeleton:last-child {
    margin-bottom: 0;
}
.gcc-loading-state {
    padding: 0.5rem 0;
}
.gcc-skeleton-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}
.gcc-skeleton-grid--2col {
    grid-template-columns: repeat(2, 1fr);
}
.gcc-skeleton-card {
    background: var(--bg-secondary, #1a1f2e);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
}
@media (max-width: 768px) {
    .gcc-skeleton-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    .gcc-skeleton-grid--2col {
        grid-template-columns: 1fr;
    }
}

/* ── GCC: Matrix AI Insights ──────────────────────────────── */
.gcc-matrix-insights {
    margin-bottom: 1.25rem;
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 10px;
    background: rgba(59, 130, 246, 0.03);
    overflow: hidden;
}
.gcc-matrix-insights__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: rgba(59, 130, 246, 0.06);
    border-bottom: 1px solid rgba(59, 130, 246, 0.15);
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text-primary);
}
.gcc-matrix-insights__count {
    font-size: 0.75rem;
    color: var(--accent);
    font-weight: 500;
}
.gcc-matrix-insight-item {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}
.gcc-matrix-insight-item:last-child {
    border-bottom: none;
}
.gcc-matrix-insight-item__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.35rem;
    font-weight: 600;
    font-size: 0.85rem;
}
.gcc-matrix-insight-item__severity {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.gcc-matrix-insight-item__desc {
    font-size: 0.8rem;
    color: var(--text-secondary);
    line-height: 1.4;
    margin-bottom: 0.35rem;
}
.gcc-matrix-insight-item__action {
    font-size: 0.8rem;
    color: var(--accent);
    line-height: 1.4;
    padding: 0.35rem 0.5rem;
    background: rgba(59, 130, 246, 0.06);
    border-radius: 4px;
}

/* ---- Batch 8: Last-updated timestamp ---- */
.gcc-last-updated {
    font-size: 0.75rem;
    color: var(--text-secondary);
    opacity: 0.7;
    white-space: nowrap;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.04);
}

/* ---- Batch 8: Section header with inline export ---- */
.gcc-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
}
.gcc-section-header h3 {
    margin: 0;
}
.gcc-export-btn--inline {
    font-size: 0.72rem;
    padding: 0.2rem 0.55rem;
    opacity: 0.65;
    transition: opacity 0.2s;
}
.gcc-export-btn--inline:hover {
    opacity: 1;
}

/* ---- Batch 8: Responsive refinements ---- */
@media (max-width: 1024px) {
    .gcc-kpi-grid {
        grid-template-columns: 1fr !important;
    }
    .gcc-kpi-grid--2col {
        grid-template-columns: 1fr !important;
    }
    .gcc-header {
        flex-wrap: wrap;
        gap: 0.75rem;
    }
    .gcc-header__toggles {
        flex-wrap: wrap;
        order: 2;
        width: 100%;
        justify-content: center;
    }
    .gcc-header__readiness {
        order: 1;
    }
    .gcc-header__alerts {
        order: 1;
    }
}
@media (max-width: 768px) {
    .gcc-kpi-cards--6 {
        grid-template-columns: 1fr 1fr !important;
    }
    .gcc-kpi-strip {
        flex-wrap: wrap;
        gap: 0.35rem;
    }
    .gcc-kpi-strip__item {
        font-size: 0.68rem;
    }
    .gcc-export-bar {
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
    }
    .gcc-header__toggles {
        gap: 0.25rem;
    }
    .gcc-toggle__label {
        font-size: 0.65rem;
    }
    .gcc-toggle {
        padding: 0.2rem 0.4rem;
    }
    .gcc-accordion__trigger {
        font-size: 0.82rem;
    }
    .gcc-section-header {
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    .llm-dash__tabs {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}
@media (max-width: 480px) {
    .gcc-kpi-cards--6 {
        grid-template-columns: 1fr !important;
    }
    .gcc-header__readiness {
        display: none;
    }
    .gcc-kpi-strip {
        display: none;
    }
}

/* ---- Batch 9: Auto-refresh button ---- */
.gcc-refresh-btn {
    display: inline-flex;
    align-items: center;
    gap: 3px;
    padding: 0.25rem 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.03);
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.72rem;
    transition: all 0.2s;
}
.gcc-refresh-btn:hover {
    background: rgba(255, 255, 255, 0.06);
    color: var(--text-primary);
}
.gcc-refresh-btn--active {
    border-color: rgba(52, 211, 153, 0.3);
    color: #34d399;
    background: rgba(52, 211, 153, 0.06);
}
.gcc-refresh-btn--active svg {
    animation: gcc-spin 2s linear infinite;
}
@keyframes gcc-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* ---- Batch 9: Chart expand button ---- */
.gcc-expand-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.03);
    color: var(--text-secondary);
    cursor: pointer;
    opacity: 0;
    transition: all 0.2s;
    flex-shrink: 0;
}
.gcc-chart-card:hover .gcc-expand-btn {
    opacity: 0.6;
}
.gcc-expand-btn:hover {
    opacity: 1 !important;
    background: rgba(59, 130, 246, 0.1);
    color: var(--accent);
    border-color: rgba(59, 130, 246, 0.2);
}

/* ---- Batch 9: Fullscreen chart modal ---- */
.gcc-modal--fullscreen {
    width: 95vw;
    max-width: 1400px;
    height: 80vh;
}
.gcc-fullscreen-chart__body {
    height: calc(100% - 48px);
    padding: 0.5rem !important;
}

/* ---- Batch 9: Print styles ---- */
@media print {
    /* Hide interactive elements */
    .llm-dash__context-bar,
    .gcc-header__toggles,
    .gcc-header__alerts,
    .gcc-alert-panel,
    .gcc-export-bar,
    .gcc-export-btn,
    .gcc-export-btn--inline,
    .gcc-expand-btn,
    .gcc-refresh-btn,
    .gcc-last-updated,
    .llm-dash__tabs,
    .gcc-kpi-strip,
    .gcc-modal-overlay,
    .gcc-accordion__trigger svg,
    button,
    select {
        display: none !important;
    }

    /* Reset backgrounds for print */
    body,
    .page-wrapper,
    #geoCommandApp,
    .card,
    .metric-card {
        background: #fff !important;
        color: #1a1a1a !important;
        box-shadow: none !important;
        border: 1px solid #e5e5e5 !important;
    }

    /* Show all panels for full report */
    .llm-dash__panel {
        display: block !important;
        page-break-inside: avoid;
        margin-bottom: 1rem;
    }

    /* Readiness gauge - keep visible */
    .gcc-header__readiness {
        display: flex !important;
    }

    /* Tables */
    .serp-table {
        border-collapse: collapse;
    }
    .serp-table th,
    .serp-table td {
        border: 1px solid #ccc !important;
        color: #1a1a1a !important;
    }

    /* Chart containers — set min-height */
    [id$="Container"],
    .chart-container {
        break-inside: avoid;
    }

    /* Page breaks */
    .gcc-stub-header {
        page-break-before: always;
    }
    .gcc-stub-header:first-of-type {
        page-break-before: auto;
    }

    /* Progress bars */
    .progress-bar__fill {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    /* Text colors for readability */
    .metric-card__sublabel,
    .gcc-stub-desc,
    .muted {
        color: #666 !important;
    }
    h2, h3, h4 {
        color: #1a1a1a !important;
    }

    /* Add page title */
    @page {
        margin: 1.5cm;
        size: A4 landscape;
    }
}

/* ================================================================
   LIGHT THEME — Designed for clarity, depth, and visual hierarchy
   Inspired by Linear, Notion, Vercel dashboard patterns
   ================================================================ */
[data-theme="light"] {
    /* Backgrounds: 3-tier hierarchy for depth */
    --bg-primary: #f5f6f9;        /* main canvas — warm cool gray */
    --bg-secondary: #ffffff;       /* cards, panels */
    --bg-tertiary: #eceef3;       /* hover states, subtle fills */
    --bg-hover: #e4e7ed;
    --border: #dee2e9;
    --border-light: #eceef3;

    /* Text: clear 3-tier hierarchy */
    --text-primary: #0f172a;      /* near-black for headings */
    --text-secondary: #475569;    /* readable medium gray */
    --text-muted: #94a3b8;

    /* Semantic status colors (light palette — dark/muted for white bg) */
    --tc-green: #16a34a;
    --tc-yellow: #a16207;
    --tc-orange: #c2410c;
    --tc-red: #dc2626;
    --tc-muted: #64748b;

    /* Accent: slightly toned down for light backgrounds */
    --accent: #3b82f6;
    --accent-hover: #2563eb;
    --accent-glow: rgba(59, 130, 246, 0.12);

    /* Semantic colors — softer on white */
    --success: #16a34a;
    --success-bg: rgba(22, 163, 74, 0.08);
    --warning: #ca8a04;
    --warning-bg: rgba(202, 138, 4, 0.08);
    --danger: #dc2626;
    --danger-bg: rgba(220, 38, 38, 0.06);

    /* Shadows: the key to depth in light themes */
    --shadow: 0 1px 2px rgba(0,0,0,0.04), 0 1px 4px rgba(0,0,0,0.06);
    --shadow-md: 0 2px 8px rgba(0,0,0,0.06), 0 4px 16px rgba(0,0,0,0.04);
    --shadow-lg: 0 4px 16px rgba(0,0,0,0.08), 0 12px 40px rgba(0,0,0,0.06);

    --card-bg: var(--bg-secondary);

    color-scheme: light;
}

/* ---- Light theme: sidebar — clean white to match Lovable ---- */
[data-theme="light"] .sidebar {
    background: #ffffff;
    border-right: 1px solid #e4e7ed;
    box-shadow: none;
}
[data-theme="light"] .sidebar-brand {
    color: #0f172a;
    border-bottom-color: #e4e7ed;
}
[data-theme="light"] .sidebar-brand span,
[data-theme="light"] .sidebar-brand-text { color: #0f172a; }
[data-theme="light"] .sidebar-brand svg { stroke: #3b82f6; }
[data-theme="light"] .sidebar .nav-item { color: #657085; }
[data-theme="light"] .sidebar .nav-item svg { color: #94a3b8; }
[data-theme="light"] .sidebar .nav-item:hover {
    background: #f1f3f7;
    color: #0f172a;
}
[data-theme="light"] .sidebar .nav-item:hover svg { color: #475569; }
[data-theme="light"] .sidebar .nav-item.active {
    background: rgba(59, 130, 246, 0.08);
    color: #3b82f6;
    border-right-color: #3b82f6;
}
[data-theme="light"] .sidebar .nav-item.active svg { color: #3b82f6; }
[data-theme="light"] .sidebar-footer { border-top-color: #e4e7ed; }
[data-theme="light"] .sidebar .nav-divider { background: #e4e7ed; }
[data-theme="light"] .sidebar a { color: #657085; }
[data-theme="light"] .sidebar a:hover { color: #0f172a; }

/* ---- Light theme: header — clean white with subtle shadow ---- */
[data-theme="light"] .app-header {
    background: #ffffff;
    border-bottom: 1px solid #e2e8f0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
}

/* ---- Light theme: links ---- */
[data-theme="light"] a:hover { color: #2563eb; }
[data-theme="light"] .login-toggle:hover,
[data-theme="light"] .toggle-link:hover { color: #2563eb; }

/* ---- Light theme: nav items (outside sidebar — keep light styling) ---- */
[data-theme="light"] .app-main .nav-item { color: #475569; }
[data-theme="light"] .app-main .nav-item:hover { background: #f1f5f9; color: #0f172a; }

/* ---- Light theme: sidebar overlay ---- */
[data-theme="light"] .sidebar-overlay.active {
    background: rgba(15, 23, 42, 0.3);
}

/* ---- Light theme: cards — clean white with subtle shadow ---- */
[data-theme="light"] .card {
    background: #ffffff;
    border: 1px solid #e5e9f0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.03);
}
[data-theme="light"] .card:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);
    border-color: #cbd5e1;
}
/* Project cards — lift effect on hover */
[data-theme="light"] .project-card {
    background: #ffffff;
    border: 1px solid #e5e9f0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.03);
}
[data-theme="light"] .project-card:hover {
    box-shadow: 0 8px 24px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
    border-color: #3b82f6;
}
[data-theme="light"] .project-card .card-stats {
    border-top-color: #eceef3;
}

/* ---- Light theme: inputs ---- */
[data-theme="light"] input[type="text"],
[data-theme="light"] input[type="email"],
[data-theme="light"] input[type="password"],
[data-theme="light"] input[type="number"],
[data-theme="light"] input[type="search"],
[data-theme="light"] input[type="url"],
[data-theme="light"] textarea,
[data-theme="light"] select {
    background: #ffffff;
    border-color: #e2e8f0;
    color: #0f172a;
    box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}
[data-theme="light"] input:focus,
[data-theme="light"] textarea:focus,
[data-theme="light"] select:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.12);
    outline: none;
}
[data-theme="light"] input::placeholder,
[data-theme="light"] textarea::placeholder { color: #94a3b8; }

/* ---- Light theme: badges — pastel & muted ---- */
[data-theme="light"] .badge-active {
    background: #ecfdf5;
    color: #15803d;
    border-color: #bbf7d0;
}
[data-theme="light"] .badge-inactive {
    background: #fef2f2;
    color: #b91c1c;
    border-color: #fecaca;
}
[data-theme="light"] .badge-llm {
    background: #f5f3ff;
    color: #6d28d9;
    border-color: #ddd6fe;
}

/* ---- Light theme: buttons ---- */
[data-theme="light"] .btn-primary {
    background: #2563eb;
    color: #fff;
    border-color: #2563eb;
    box-shadow: 0 1px 2px rgba(37, 99, 235, 0.25);
}
[data-theme="light"] .btn-primary:hover {
    background: #1d4ed8;
    border-color: #1d4ed8;
    box-shadow: 0 2px 6px rgba(29, 78, 216, 0.35);
}
[data-theme="light"] .btn-accent {
    background: #2563eb;
    border-color: #2563eb;
    box-shadow: 0 1px 2px rgba(37, 99, 235, 0.2);
}
[data-theme="light"] .btn-accent:hover {
    background: #1d4ed8;
    box-shadow: 0 2px 8px rgba(29, 78, 216, 0.3);
}
/* Secondary / ghost buttons */
[data-theme="light"] .btn {
    border-color: #d1d5db;
    color: #374151;
    background: #ffffff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}
[data-theme="light"] .btn:hover {
    background: #f1f5f9;
    border-color: #9ca3af;
}
/* "Collect SERP" / "Collect LLM" outline buttons on project page */
[data-theme="light"] .btn-outline-primary {
    background: transparent;
    border-color: #3b82f6;
    color: #2563eb;
}
[data-theme="light"] .btn-outline-primary:hover {
    background: #2563eb;
    color: #fff;
}

/* ---- Light theme: modals ---- */
[data-theme="light"] .modal-backdrop {
    background: rgba(15, 23, 42, 0.4);
}
[data-theme="light"] .modal-box {
    background: #ffffff;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* ---- Light theme: toasts ---- */
[data-theme="light"] .toast {
    background: #ffffff;
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04);
}

/* ---- Light theme: login page ---- */
[data-theme="light"] .login-page {
    background: #f5f6f9;
}
[data-theme="light"] .login-box {
    background: #ffffff;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04);
}
[data-theme="light"] .login-error {
    border-color: #fecaca;
    background: #fef2f2;
}

/* ---- Light theme: pos-badge ---- */
[data-theme="light"] .pos-badge { background: #f1f5f9; color: var(--text-primary); }
[data-theme="light"] .pos-badge.top3 { background: #16a34a; color: #fff; }
[data-theme="light"] .pos-badge.medium { background: #ca8a04; color: #fff; }

/* ---- Light theme: scrollbar ---- */
[data-theme="light"] ::-webkit-scrollbar-thumb { background: #cbd5e1; }
[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

/* ---- Light theme: selection ---- */
[data-theme="light"] ::selection { background: #3b82f6; color: #fff; }

/* ---- Light theme: search-engine titles ---- */
[data-theme="light"] .google-title { border-left-color: #4285f4; color: #1a73e8; }
[data-theme="light"] .yandex-title { border-left-color: #fc3f1d; color: #d63000; }
[data-theme="light"] .gsc-sem-title { border-left-color: #34a853; color: #188038; }

/* ---- Light theme: LLM dashboard tabs ---- */
[data-theme="light"] .llm-dash__tab { color: #475569; }
[data-theme="light"] .llm-dash__tab:hover { background: #f1f5f9; color: #0f172a; }
[data-theme="light"] .llm-dash__tab.active {
    background: #3b82f6;
    color: #fff;
    box-shadow: 0 1px 3px rgba(59, 130, 246, 0.3);
}

/* ---- Light theme: KPI cards — muted, not screaming ---- */
[data-theme="light"] .kpi-card--green .kpi-card__value { color: #16a34a; }
[data-theme="light"] .kpi-card--orange .kpi-card__value { color: #b45309; }
[data-theme="light"] .kpi-card--purple .kpi-card__value { color: #7c3aed; }

/* ---- Light theme: metric zones ---- */
[data-theme="light"] .metric-zone--green { color: #16a34a; }
[data-theme="light"] .metric-zone--yellow { color: #a16207; }
[data-theme="light"] .metric-zone--orange { color: #b45309; }
[data-theme="light"] .metric-zone--red { color: #dc2626; }

/* ---- Light theme: provider pills — soft pastel fills ---- */
[data-theme="light"] .provider-pill--chatgpt { background: #eff6ff; color: #1d4ed8; }
[data-theme="light"] .provider-pill--gemini { background: #ecfdf5; color: #15803d; }
[data-theme="light"] .provider-pill--deepseek { background: #f5f3ff; color: #6d28d9; }
[data-theme="light"] .provider-pill--yandexgpt { background: #fffbeb; color: #a16207; }
[data-theme="light"] .provider-pill--perplexity { background: #fef2f2; color: #b91c1c; }

/* ---- Light theme: GEO cards ---- */
[data-theme="light"] .gcc-card,
[data-theme="light"] .geo-card {
    background: #ffffff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
}
[data-theme="light"] .geo-card--critical { border-left-color: #ef4444; }
[data-theme="light"] .geo-card--warning { border-left-color: #f59e0b; }
[data-theme="light"] .geo-card--info { border-left-color: #3b82f6; }

/* ---- Light theme: KPI cards — dark-mode neons toned to readable on white ---- */
[data-theme="light"] .kpi-card {
    box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}
[data-theme="light"] .kpi-card--accent .kpi-card__value { color: #2563eb; }
[data-theme="light"] .kpi-card--green .kpi-card__value  { color: #16a34a; }
[data-theme="light"] .kpi-card--orange .kpi-card__value { color: #b45309; }
[data-theme="light"] .kpi-card--purple .kpi-card__value { color: #7c3aed; }

/* ---- Light theme: metric zones — readable on white ---- */
[data-theme="light"] .metric-zone--green  { color: #16a34a; }
[data-theme="light"] .metric-zone--yellow { color: #a16207; }
[data-theme="light"] .metric-zone--orange { color: #c2410c; }
[data-theme="light"] .metric-zone--red    { color: #dc2626; }
[data-theme="light"] .metric-zone--muted  { color: #94a3b8; }

/* ---- Light theme: KPI strip bar ---- */
[data-theme="light"] .gcc-kpi-strip {
    background: #f8fafc;
    border-bottom-color: #e2e8f0;
}

/* ---- Light theme: GCC cards with shadow ---- */
[data-theme="light"] .gcc-card {
    box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

/* ---- Light theme: progress bars ---- */
[data-theme="light"] .progress-bar {
    background: #e2e8f0;
}

/* ---- Light theme: LLM dash tabs ---- */
[data-theme="light"] .llm-dash__tabs {
    border-bottom-color: #e2e8f0;
}

/* ---- Light theme: alert panel ---- */
[data-theme="light"] .gcc-alert-panel {
    background: #ffffff;
    border-color: #e2e8f0;
    box-shadow: 0 4px 24px rgba(0,0,0,0.1);
}

/* ---- Light theme: SERP highlight ---- */
[data-theme="light"] .serp-highlight { background: #ecfdf5 !important; }
[data-theme="light"] .serp-highlight:hover { background: #dcfce7 !important; }

/* ---- Light theme: GSC / SERP buttons ---- */
[data-theme="light"] .btn-gsc {
    background: #eff6ff; color: #1d4ed8; border-color: #bfdbfe;
}
[data-theme="light"] .btn-gsc:hover {
    background: #1d4ed8; color: #fff; border-color: #1d4ed8;
}
[data-theme="light"] .btn-serp:hover { background: #3b82f6; color: #fff; }

/* ---- Light theme: range slider track ---- */
[data-theme="light"] .gcc-gauge__track,
[data-theme="light"] .range-track { background: #e2e8f0; }

/* ---- Light theme: tables ---- */
[data-theme="light"] table th {
    background: #f8fafc;
    border-bottom-color: #e2e8f0;
    color: #475569;
}
[data-theme="light"] table td { border-bottom-color: #f1f5f9; }
[data-theme="light"] table tr:hover td { background: #f8fafc; }

/* ---- Theme toggle button ---- */
.theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition);
    flex-shrink: 0;
}
.theme-toggle:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    border-color: var(--border-light);
}
.theme-toggle svg { width: 18px; height: 18px; }

/* Hide/show sun/moon icons */
[data-theme="dark"] .theme-toggle .icon-sun { display: none; }
[data-theme="dark"] .theme-toggle .icon-moon { display: block; }
[data-theme="light"] .theme-toggle .icon-sun { display: block; }
[data-theme="light"] .theme-toggle .icon-moon { display: none; }

/* ---- Light theme: GCC delta chips ---- */
[data-theme="light"] .gcc-delta--up { color: #15803d; background: #ecfdf5; }
[data-theme="light"] .gcc-delta--down { color: #b91c1c; background: #fef2f2; }
[data-theme="light"] .gcc-delta--neutral { color: #64748b; background: #f1f5f9; }

/* ---- Smooth theme transitions ---- */
body,
.sidebar,
.app-header,
.card,
.modal-box,
.toast,
.login-box,
.login-page,
input, textarea, select {
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
